import{S as It,i as Tt,s as Pt,k as X,q as bt,a as rt,l as K,m as j,r as xt,h as $,c as nt,n as O,b as q,G as D,u as Zt,B as zt,C as Xr,I as _t,J as yt,D as Kr,E as Jr,F as Qr,f as st,t as at,w as dt,x as pt,y as mt,z as gt,K as Ct,g as Qt,d as te,L as de,H as Ot,o as tn,M as Rt,N as Ze,O as jt,P as ms,Q as be,R as gs,T as we,U as fi,e as dr,V as ci,W as hi,X as di,A as vs}from"./index-d9b73412.js";import{u as Ne,s as qt,g as pi,c as Je}from"./supabase-82831bcf.js";import{w as pe}from"./index-4aa33943.js";import{_ as _s}from"./preload-helper-b21cceae.js";function ys(o){let t,e,r,n,i;return{c(){t=X("p"),e=bt(o[1]),r=bt(" of "),n=bt(o[2]),i=bt(" tasks"),this.h()},l(s){t=K(s,"P",{class:!0});var a=j(t);e=xt(a,o[1]),r=xt(a," of "),n=xt(a,o[2]),i=xt(a," tasks"),a.forEach($),this.h()},h(){O(t,"class","svelte-1pfdzei")},m(s,a){q(s,t,a),D(t,e),D(t,r),D(t,n),D(t,i)},p(s,a){a&2&&Zt(e,s[1]),a&4&&Zt(n,s[2])},d(s){s&&$(t)}}}function ws(o){let t,e,r;return{c(){t=X("p"),e=bt(o[2]),r=bt(" tasks done"),this.h()},l(n){t=K(n,"P",{class:!0});var i=j(t);e=xt(i,o[2]),r=xt(i," tasks done"),i.forEach($),this.h()},h(){O(t,"class","svelte-1pfdzei")},m(n,i){q(n,t,i),D(t,e),D(t,r)},p(n,i){i&4&&Zt(e,n[2])},d(n){n&&$(t)}}}function bs(o){let t,e,r;return{c(){t=X("p"),e=bt(o[2]),r=bt(" tasks"),this.h()},l(n){t=K(n,"P",{class:!0});var i=j(t);e=xt(i,o[2]),r=xt(i," tasks"),i.forEach($),this.h()},h(){O(t,"class","svelte-1pfdzei")},m(n,i){q(n,t,i),D(t,e),D(t,r)},p(n,i){i&4&&Zt(e,n[2])},d(n){n&&$(t)}}}function xs(o){let t,e,r=o[0].title+"",n,i,s,a=xn(o[0].text)+"",l,u,f,m,w,d=kn(o[0].updated_at)+"",g,h;function p(b,x){if(b[2]>0&&b[1]==0)return bs;if(b[2]>0&&b[2]==b[1])return ws;if(b[1]>0&&b[2]>0)return ys}let y=p(o),v=y&&y(o);return{c(){t=X("div"),e=X("h5"),n=bt(r),i=rt(),s=X("p"),l=bt(a),u=rt(),v&&v.c(),f=rt(),m=X("time"),w=bt("Modified "),g=bt(d),this.h()},l(b){t=K(b,"DIV",{class:!0});var x=j(t);e=K(x,"H5",{class:!0});var C=j(e);n=xt(C,r),C.forEach($),i=nt(x),s=K(x,"P",{class:!0});var B=j(s);l=xt(B,a),B.forEach($),u=nt(x),v&&v.l(x),f=nt(x),m=K(x,"TIME",{class:!0,datetime:!0});var z=j(m);w=xt(z,"Modified "),g=xt(z,d),z.forEach($),x.forEach($),this.h()},h(){O(e,"class","font-medium"),O(s,"class","text-sm svelte-1pfdzei"),O(m,"class","text-xs"),O(m,"datetime",h=new Date(o[0].updated_at).toISOString()),O(t,"class","text-left")},m(b,x){q(b,t,x),D(t,e),D(e,n),D(t,i),D(t,s),D(s,l),D(t,u),v&&v.m(t,null),D(t,f),D(t,m),D(m,w),D(m,g)},p(b,[x]){x&1&&r!==(r=b[0].title+"")&&Zt(n,r),x&1&&a!==(a=xn(b[0].text)+"")&&Zt(l,a),y===(y=p(b))&&v?v.p(b,x):(v&&v.d(1),v=y&&y(b),v&&(v.c(),v.m(t,f))),x&1&&d!==(d=kn(b[0].updated_at)+"")&&Zt(g,d),x&1&&h!==(h=new Date(b[0].updated_at).toISOString())&&O(m,"datetime",h)},i:zt,o:zt,d(b){b&&$(t),v&&v.d()}}}function xn(o){return o?o.slice(0,50):""}function kn(o){return new Date(o).toLocaleDateString(void 0,{weekday:"short",month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}function ks(o,t,e){var a;let{note:r}=t,n=(a=r.text)==null?void 0:a.split(`
`),i=0,s=0;return o.$$set=l=>{"note"in l&&e(0,r=l.note)},o.$$.update=()=>{o.$$.dirty&3&&r.text&&(e(1,s=n.filter(l=>l.startsWith("- [x]")).length),e(2,i=s+n.filter(l=>l.startsWith("- [ ]")).length))},[r,s,i]}class $s extends It{constructor(t){super(),Tt(this,t,ks,xs,Pt,{note:0})}}let Gt=pe({}),ge=pe([]),Ir=pe([]),pr=pe([]),xe=pe([]);const ue=pe(!1),fe=pe(!0),ce=pe(!1);function Es(o){let t,e;const r=o[2].default,n=Xr(r,o,o[1],null);return{c(){t=_t("svg"),n&&n.c(),this.h()},l(i){t=yt(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var s=j(t);n&&n.l(s),s.forEach($),this.h()},h(){O(t,"xmlns","http://www.w3.org/2000/svg"),O(t,"width",o[0]),O(t,"height",o[0]),O(t,"viewBox","0 0 24 24"),O(t,"fill","none"),O(t,"stroke","currentColor"),O(t,"stroke-width","2"),O(t,"stroke-linecap","round"),O(t,"stroke-linejoin","round")},m(i,s){q(i,t,s),n&&n.m(t,null),e=!0},p(i,[s]){n&&n.p&&(!e||s&2)&&Kr(n,r,i,i[1],e?Qr(r,i[1],s,null):Jr(i[1]),null),(!e||s&1)&&O(t,"width",i[0]),(!e||s&1)&&O(t,"height",i[0])},i(i){e||(st(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){i&&$(t),n&&n.d(i)}}}function Ss(o,t,e){let{$$slots:r={},$$scope:n}=t,{size:i=24}=t;return o.$$set=s=>{"size"in s&&e(0,i=s.size),"$$scope"in s&&e(1,n=s.$$scope)},[i,n,r]}class Ht extends It{constructor(t){super(),Tt(this,t,Ss,Es,Pt,{size:0})}}function Os(o){let t;return{c(){t=_t("polyline"),this.h()},l(e){t=yt(e,"polyline",{points:!0}),j(t).forEach($),this.h()},h(){O(t,"points","9 18 15 12 9 6")},m(e,r){q(e,t,r)},p:zt,d(e){e&&$(t)}}}function Cs(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[Os]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function zs(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class As extends It{constructor(t){super(),Tt(this,t,zs,Cs,Pt,{size:0})}}function Rs(o){let t,e,r,n,i;return{c(){t=_t("path"),e=rt(),r=_t("polyline"),n=rt(),i=_t("line"),this.h()},l(s){t=yt(s,"path",{d:!0}),j(t).forEach($),e=nt(s),r=yt(s,"polyline",{points:!0}),j(r).forEach($),n=nt(s),i=yt(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(i).forEach($),this.h()},h(){O(t,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),O(r,"points","7 10 12 15 17 10"),O(i,"x1","12"),O(i,"y1","15"),O(i,"x2","12"),O(i,"y2","3")},m(s,a){q(s,t,a),q(s,e,a),q(s,r,a),q(s,n,a),q(s,i,a)},p:zt,d(s){s&&$(t),s&&$(e),s&&$(r),s&&$(n),s&&$(i)}}}function Is(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[Rs]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Ts(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class mi extends It{constructor(t){super(),Tt(this,t,Ts,Is,Pt,{size:0})}}function Ps(o){let t,e,r,n,i,s,a,l;return{c(){t=_t("path"),e=_t("polyline"),r=rt(),n=_t("line"),i=rt(),s=_t("line"),a=rt(),l=_t("polyline"),this.h()},l(u){t=yt(u,"path",{d:!0}),j(t).forEach($),e=yt(u,"polyline",{points:!0}),j(e).forEach($),r=nt(u),n=yt(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(n).forEach($),i=nt(u),s=yt(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(s).forEach($),a=nt(u),l=yt(u,"polyline",{points:!0}),j(l).forEach($),this.h()},h(){O(t,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),O(e,"points","14 2 14 8 20 8"),O(n,"x1","16"),O(n,"y1","13"),O(n,"x2","8"),O(n,"y2","13"),O(s,"x1","16"),O(s,"y1","17"),O(s,"x2","8"),O(s,"y2","17"),O(l,"points","10 9 9 9 8 9")},m(u,f){q(u,t,f),q(u,e,f),q(u,r,f),q(u,n,f),q(u,i,f),q(u,s,f),q(u,a,f),q(u,l,f)},p:zt,d(u){u&&$(t),u&&$(e),u&&$(r),u&&$(n),u&&$(i),u&&$(s),u&&$(a),u&&$(l)}}}function Bs(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[Ps]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Ds(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class Ns extends It{constructor(t){super(),Tt(this,t,Ds,Bs,Pt,{size:0})}}function Us(o){let t;return{c(){t=_t("polygon"),this.h()},l(e){t=yt(e,"polygon",{points:!0}),j(t).forEach($),this.h()},h(){O(t,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3")},m(e,r){q(e,t,r)},p:zt,d(e){e&&$(t)}}}function Ls(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[Us]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Fs(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class js extends It{constructor(t){super(),Tt(this,t,Fs,Ls,Pt,{size:0})}}function Ms(o){let t,e;return{c(){t=_t("svg"),e=_t("path"),this.h()},l(r){t=yt(r,"svg",{xmlns:!0,width:!0,height:!0,"shape-rendering":!0,"text-rendering":!0,"image-rendering":!0,"fill-rule":!0,"clip-rule":!0,viewBox:!0});var n=j(t);e=yt(n,"path",{d:!0}),j(e).forEach($),n.forEach($),this.h()},h(){O(e,"d","M319.988 7.973C143.293 7.973 0 151.242 0 327.96c0 141.392 91.678 261.298 218.826 303.63 16.004 2.964 21.886-6.957 21.886-15.414 0-7.63-.319-32.835-.449-59.552-89.032 19.359-107.8-37.772-107.8-37.772-14.552-36.993-35.529-46.831-35.529-46.831-29.032-19.879 2.209-19.442 2.209-19.442 32.126 2.245 49.04 32.954 49.04 32.954 28.56 48.922 74.883 34.76 93.131 26.598 2.882-20.681 11.15-34.807 20.315-42.803-71.08-8.067-145.797-35.516-145.797-158.14 0-34.926 12.52-63.485 32.965-85.88-3.33-8.078-14.291-40.606 3.083-84.674 0 0 26.87-8.61 88.029 32.8 25.512-7.075 52.878-10.642 80.056-10.76 27.2.118 54.614 3.673 80.162 10.76 61.076-41.386 87.922-32.8 87.922-32.8 17.398 44.08 6.485 76.631 3.154 84.675 20.516 22.394 32.93 50.953 32.93 85.879 0 122.907-74.883 149.93-146.117 157.856 11.481 9.921 21.733 29.398 21.733 59.233 0 42.792-.366 77.28-.366 87.804 0 8.516 5.764 18.473 21.992 15.354 127.076-42.354 218.637-162.274 218.637-303.582 0-176.695-143.269-319.988-320-319.988l-.023.107z"),O(t,"xmlns","http://www.w3.org/2000/svg"),O(t,"width",o[0]),O(t,"height",o[0]),O(t,"shape-rendering","geometricPrecision"),O(t,"text-rendering","geometricPrecision"),O(t,"image-rendering","optimizeQuality"),O(t,"fill-rule","evenodd"),O(t,"clip-rule","evenodd"),O(t,"viewBox","0 0 640 640")},m(r,n){q(r,t,n),D(t,e)},p(r,[n]){n&1&&O(t,"width",r[0]),n&1&&O(t,"height",r[0])},i:zt,o:zt,d(r){r&&$(t)}}}function Ws(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class Hs extends It{constructor(t){super(),Tt(this,t,Ws,Ms,Pt,{size:0})}}function Zs(o){let t,e,r,n,i,s,a;return{c(){t=_t("line"),e=rt(),r=_t("line"),n=rt(),i=_t("line"),s=rt(),a=_t("line"),this.h()},l(l){t=yt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(t).forEach($),e=nt(l),r=yt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(r).forEach($),n=nt(l),i=yt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(i).forEach($),s=nt(l),a=yt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(a).forEach($),this.h()},h(){O(t,"x1","4"),O(t,"y1","9"),O(t,"x2","20"),O(t,"y2","9"),O(r,"x1","4"),O(r,"y1","15"),O(r,"x2","20"),O(r,"y2","15"),O(i,"x1","10"),O(i,"y1","3"),O(i,"x2","8"),O(i,"y2","21"),O(a,"x1","16"),O(a,"y1","3"),O(a,"x2","14"),O(a,"y2","21")},m(l,u){q(l,t,u),q(l,e,u),q(l,r,u),q(l,n,u),q(l,i,u),q(l,s,u),q(l,a,u)},p:zt,d(l){l&&$(t),l&&$(e),l&&$(r),l&&$(n),l&&$(i),l&&$(s),l&&$(a)}}}function Vs(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[Zs]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Gs(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class wr extends It{constructor(t){super(),Tt(this,t,Gs,Vs,Pt,{size:0})}}function qs(o){let t,e,r;return{c(){t=_t("polyline"),e=rt(),r=_t("path"),this.h()},l(n){t=yt(n,"polyline",{points:!0}),j(t).forEach($),e=nt(n),r=yt(n,"path",{d:!0}),j(r).forEach($),this.h()},h(){O(t,"points","22 12 16 12 14 15 10 15 8 12 2 12"),O(r,"d","M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z")},m(n,i){q(n,t,i),q(n,e,i),q(n,r,i)},p:zt,d(n){n&&$(t),n&&$(e),n&&$(r)}}}function Ys(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[qs]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Xs(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class gi extends It{constructor(t){super(),Tt(this,t,Xs,Ys,Pt,{size:0})}}function Ks(o){let t,e,r,n,i;return{c(){t=_t("circle"),e=rt(),r=_t("circle"),n=rt(),i=_t("circle"),this.h()},l(s){t=yt(s,"circle",{cx:!0,cy:!0,r:!0}),j(t).forEach($),e=nt(s),r=yt(s,"circle",{cx:!0,cy:!0,r:!0}),j(r).forEach($),n=nt(s),i=yt(s,"circle",{cx:!0,cy:!0,r:!0}),j(i).forEach($),this.h()},h(){O(t,"cx","12"),O(t,"cy","12"),O(t,"r","1"),O(r,"cx","19"),O(r,"cy","12"),O(r,"r","1"),O(i,"cx","5"),O(i,"cy","12"),O(i,"r","1")},m(s,a){q(s,t,a),q(s,e,a),q(s,r,a),q(s,n,a),q(s,i,a)},p:zt,d(s){s&&$(t),s&&$(e),s&&$(r),s&&$(n),s&&$(i)}}}function Js(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[Ks]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Qs(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class to extends It{constructor(t){super(),Tt(this,t,Qs,Js,Pt,{size:0})}}function eo(o){let t,e,r;return{c(){t=_t("line"),e=rt(),r=_t("line"),this.h()},l(n){t=yt(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(t).forEach($),e=nt(n),r=yt(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(r).forEach($),this.h()},h(){O(t,"x1","12"),O(t,"y1","5"),O(t,"x2","12"),O(t,"y2","19"),O(r,"x1","5"),O(r,"y1","12"),O(r,"x2","19"),O(r,"y2","12")},m(n,i){q(n,t,i),q(n,e,i),q(n,r,i)},p:zt,d(n){n&&$(t),n&&$(e),n&&$(r)}}}function ro(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[eo]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function no(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class vi extends It{constructor(t){super(),Tt(this,t,no,ro,Pt,{size:0})}}function io(o){let t,e,r,n;return{c(){t=_t("path"),e=_t("polyline"),r=rt(),n=_t("polyline"),this.h()},l(i){t=yt(i,"path",{d:!0}),j(t).forEach($),e=yt(i,"polyline",{points:!0}),j(e).forEach($),r=nt(i),n=yt(i,"polyline",{points:!0}),j(n).forEach($),this.h()},h(){O(t,"d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"),O(e,"points","17 21 17 13 7 13 7 21"),O(n,"points","7 3 7 8 15 8")},m(i,s){q(i,t,s),q(i,e,s),q(i,r,s),q(i,n,s)},p:zt,d(i){i&&$(t),i&&$(e),i&&$(r),i&&$(n)}}}function so(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[io]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function oo(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class ao extends It{constructor(t){super(),Tt(this,t,oo,so,Pt,{size:0})}}function lo(o){let t,e,r;return{c(){t=_t("circle"),e=rt(),r=_t("line"),this.h()},l(n){t=yt(n,"circle",{cx:!0,cy:!0,r:!0}),j(t).forEach($),e=nt(n),r=yt(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(r).forEach($),this.h()},h(){O(t,"cx","11"),O(t,"cy","11"),O(t,"r","8"),O(r,"x1","21"),O(r,"y1","21"),O(r,"x2","16.65"),O(r,"y2","16.65")},m(n,i){q(n,t,i),q(n,e,i),q(n,r,i)},p:zt,d(n){n&&$(t),n&&$(e),n&&$(r)}}}function uo(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[lo]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function fo(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class co extends It{constructor(t){super(),Tt(this,t,fo,uo,Pt,{size:0})}}function ho(o){let t,e,r,n,i,s,a,l,u,f,m,w,d,g,h,p,y;return{c(){t=_t("line"),e=rt(),r=_t("line"),n=rt(),i=_t("line"),s=rt(),a=_t("line"),l=rt(),u=_t("line"),f=rt(),m=_t("line"),w=rt(),d=_t("line"),g=rt(),h=_t("line"),p=rt(),y=_t("line"),this.h()},l(v){t=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(t).forEach($),e=nt(v),r=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(r).forEach($),n=nt(v),i=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(i).forEach($),s=nt(v),a=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(a).forEach($),l=nt(v),u=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(u).forEach($),f=nt(v),m=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(m).forEach($),w=nt(v),d=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(d).forEach($),g=nt(v),h=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(h).forEach($),p=nt(v),y=yt(v,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(y).forEach($),this.h()},h(){O(t,"x1","4"),O(t,"y1","21"),O(t,"x2","4"),O(t,"y2","14"),O(r,"x1","4"),O(r,"y1","10"),O(r,"x2","4"),O(r,"y2","3"),O(i,"x1","12"),O(i,"y1","21"),O(i,"x2","12"),O(i,"y2","12"),O(a,"x1","12"),O(a,"y1","8"),O(a,"x2","12"),O(a,"y2","3"),O(u,"x1","20"),O(u,"y1","21"),O(u,"x2","20"),O(u,"y2","16"),O(m,"x1","20"),O(m,"y1","12"),O(m,"x2","20"),O(m,"y2","3"),O(d,"x1","1"),O(d,"y1","14"),O(d,"x2","7"),O(d,"y2","14"),O(h,"x1","9"),O(h,"y1","8"),O(h,"x2","15"),O(h,"y2","8"),O(y,"x1","17"),O(y,"y1","16"),O(y,"x2","23"),O(y,"y2","16")},m(v,b){q(v,t,b),q(v,e,b),q(v,r,b),q(v,n,b),q(v,i,b),q(v,s,b),q(v,a,b),q(v,l,b),q(v,u,b),q(v,f,b),q(v,m,b),q(v,w,b),q(v,d,b),q(v,g,b),q(v,h,b),q(v,p,b),q(v,y,b)},p:zt,d(v){v&&$(t),v&&$(e),v&&$(r),v&&$(n),v&&$(i),v&&$(s),v&&$(a),v&&$(l),v&&$(u),v&&$(f),v&&$(m),v&&$(w),v&&$(d),v&&$(g),v&&$(h),v&&$(p),v&&$(y)}}}function po(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[ho]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function mo(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class go extends It{constructor(t){super(),Tt(this,t,mo,po,Pt,{size:0})}}function vo(o){let t,e,r,n,i,s,a;return{c(){t=_t("polyline"),e=rt(),r=_t("path"),n=rt(),i=_t("line"),s=rt(),a=_t("line"),this.h()},l(l){t=yt(l,"polyline",{points:!0}),j(t).forEach($),e=nt(l),r=yt(l,"path",{d:!0}),j(r).forEach($),n=nt(l),i=yt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(i).forEach($),s=nt(l),a=yt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(a).forEach($),this.h()},h(){O(t,"points","3 6 5 6 21 6"),O(r,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),O(i,"x1","10"),O(i,"y1","11"),O(i,"x2","10"),O(i,"y2","17"),O(a,"x1","14"),O(a,"y1","11"),O(a,"x2","14"),O(a,"y2","17")},m(l,u){q(l,t,u),q(l,e,u),q(l,r,u),q(l,n,u),q(l,i,u),q(l,s,u),q(l,a,u)},p:zt,d(l){l&&$(t),l&&$(e),l&&$(r),l&&$(n),l&&$(i),l&&$(s),l&&$(a)}}}function _o(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[vo]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function yo(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class _i extends It{constructor(t){super(),Tt(this,t,yo,_o,Pt,{size:0})}}function wo(o){let t,e,r;return{c(){t=_t("path"),e=rt(),r=_t("circle"),this.h()},l(n){t=yt(n,"path",{d:!0}),j(t).forEach($),e=nt(n),r=yt(n,"circle",{cx:!0,cy:!0,r:!0}),j(r).forEach($),this.h()},h(){O(t,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),O(r,"cx","12"),O(r,"cy","7"),O(r,"r","4")},m(n,i){q(n,t,i),q(n,e,i),q(n,r,i)},p:zt,d(n){n&&$(t),n&&$(e),n&&$(r)}}}function bo(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[wo]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function xo(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class ko extends It{constructor(t){super(),Tt(this,t,xo,bo,Pt,{size:0})}}function $n(o,t,e){const r=o.slice();return r[11]=t[e],r}function $o(o){let t,e;return{c(){t=X("p"),e=bt("no notes")},l(r){t=K(r,"P",{});var n=j(t);e=xt(n,"no notes"),n.forEach($)},m(r,n){q(r,t,n),D(t,e)},p:zt,i:zt,o:zt,d(r){r&&$(t)}}}function Eo(o){let t,e,r=o[1],n=[];for(let s=0;s<r.length;s+=1)n[s]=En($n(o,r,s));const i=s=>at(n[s],1,1,()=>{n[s]=null});return{c(){t=X("ul");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){t=K(s,"UL",{class:!0});var a=j(t);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach($),this.h()},h(){O(t,"class","flex flex-col h-full w-full svelte-10nmggi")},m(s,a){q(s,t,a);for(let l=0;l<n.length;l+=1)n[l].m(t,null);e=!0},p(s,a){if(a&63){r=s[1];let l;for(l=0;l<r.length;l+=1){const u=$n(s,r,l);n[l]?(n[l].p(u,a),st(n[l],1)):(n[l]=En(u),n[l].c(),st(n[l],1),n[l].m(t,null))}for(Qt(),l=r.length;l<n.length;l+=1)i(l);te()}},i(s){if(!e){for(let a=0;a<r.length;a+=1)st(n[a]);e=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)at(n[a]);e=!1},d(s){s&&$(t),Ze(n,s)}}}function En(o){let t,e,r,n,i,s,a;r=new $s({props:{note:o[11]}});function l(){return o[8](o[11])}return{c(){t=X("li"),e=X("button"),dt(r.$$.fragment),n=rt(),this.h()},l(u){t=K(u,"LI",{class:!0});var f=j(t);e=K(f,"BUTTON",{class:!0});var m=j(e);pt(r.$$.fragment,m),m.forEach($),n=nt(f),f.forEach($),this.h()},h(){O(e,"class","w-full p-4 border-b border-solid"),O(t,"class","border-l-2 border-solid"),jt(t,"border-indigo-700",o[0].id===o[11].id),jt(t,"border-transparent",o[0].id!==o[11].id)},m(u,f){q(u,t,f),D(t,e),mt(r,e,null),D(t,n),i=!0,s||(a=Ct(e,"click",l),s=!0)},p(u,f){o=u;const m={};f&2&&(m.note=o[11]),r.$set(m),(!i||f&3)&&jt(t,"border-indigo-700",o[0].id===o[11].id),(!i||f&3)&&jt(t,"border-transparent",o[0].id!==o[11].id)},i(u){i||(st(r.$$.fragment,u),i=!0)},o(u){at(r.$$.fragment,u),i=!1},d(u){u&&$(t),gt(r),s=!1,a()}}}function So(o){let t,e,r,n,i,s,a,l,u,f,m,w,d,g,h,p,y,v,b,x,C,B,z,P,I,H,Q,E;u=new js({props:{size:24}}),w=new vi({props:{size:24}}),b=new co({});const R=[Eo,$o],_=[];function A(W,F){return W[1].length>1?0:1}return P=A(o),I=_[P]=R[P](o),{c(){t=X("div"),e=X("div"),r=X("div"),n=X("h3"),i=bt("Notes"),s=rt(),a=X("div"),l=X("button"),dt(u.$$.fragment),f=rt(),m=X("button"),dt(w.$$.fragment),d=rt(),g=X("button"),h=bt("Burger"),p=rt(),y=X("div"),v=X("label"),dt(b.$$.fragment),x=rt(),C=X("input"),B=rt(),z=X("div"),I.c(),this.h()},l(W){t=K(W,"DIV",{class:!0});var F=j(t);e=K(F,"DIV",{class:!0});var ot=j(e);r=K(ot,"DIV",{class:!0});var Z=j(r);n=K(Z,"H3",{class:!0});var lt=j(n);i=xt(lt,"Notes"),lt.forEach($),s=nt(Z),a=K(Z,"DIV",{});var N=j(a);l=K(N,"BUTTON",{title:!0});var U=j(l);pt(u.$$.fragment,U),U.forEach($),f=nt(N),m=K(N,"BUTTON",{title:!0});var ft=j(m);pt(w.$$.fragment,ft),ft.forEach($),N.forEach($),Z.forEach($),d=nt(ot),g=K(ot,"BUTTON",{class:!0});var it=j(g);h=xt(it,"Burger"),it.forEach($),p=nt(ot),y=K(ot,"DIV",{class:!0});var J=j(y);v=K(J,"LABEL",{for:!0,class:!0});var ht=j(v);pt(b.$$.fragment,ht),ht.forEach($),x=nt(J),C=K(J,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),J.forEach($),ot.forEach($),B=nt(F),z=K(F,"DIV",{class:!0});var kt=j(z);I.l(kt),kt.forEach($),F.forEach($),this.h()},h(){O(n,"class","text-xl font-semibold"),O(l,"title","Filter notes"),O(m,"title","Create a new note"),O(r,"class","flex justify-between items-center"),O(g,"class","burger svelte-10nmggi"),O(v,"for","search"),O(v,"class","mr-2"),O(C,"id","search"),O(C,"type","text"),O(C,"placeholder","search"),O(C,"class","outline-none"),O(y,"class","flex border rounded-full bg-white px-2 py-1"),O(e,"class","items__head flex flex-col px-4 py-2 svelte-10nmggi"),O(z,"class","items__list flex h-full max-h-full relative svelte-10nmggi"),O(t,"class","items h-full flex flex-col bg-slate-50 relative")},m(W,F){q(W,t,F),D(t,e),D(e,r),D(r,n),D(n,i),D(r,s),D(r,a),D(a,l),mt(u,l,null),D(a,f),D(a,m),mt(w,m,null),D(e,d),D(e,g),D(g,h),D(e,p),D(e,y),D(y,v),mt(b,v,null),D(y,x),D(y,C),D(t,B),D(t,z),_[P].m(z,null),H=!0,Q||(E=[Ct(m,"click",o[6]),Ct(g,"click",o[7])],Q=!0)},p(W,[F]){let ot=P;P=A(W),P===ot?_[P].p(W,F):(Qt(),at(_[ot],1,1,()=>{_[ot]=null}),te(),I=_[P],I?I.p(W,F):(I=_[P]=R[P](W),I.c()),st(I,1),I.m(z,null))},i(W){H||(st(u.$$.fragment,W),st(w.$$.fragment,W),st(b.$$.fragment,W),st(I),H=!0)},o(W){at(u.$$.fragment,W),at(w.$$.fragment,W),at(b.$$.fragment,W),at(I),H=!1},d(W){W&&$(t),gt(u),gt(w),gt(b),_[P].d(),Q=!1,de(E)}}}function Oo(o,t,e){let r,n,i,s,a,l,u;Ot(o,Gt,g=>e(0,r=g)),Ot(o,ge,g=>e(1,n=g)),Ot(o,Ne,g=>e(9,i=g)),Ot(o,ue,g=>e(2,s=g)),Ot(o,fe,g=>e(3,a=g)),Ot(o,ce,g=>e(4,l=g)),Ot(o,xe,g=>e(5,u=g));async function f(){const{data:g,error:h}=await qt.from("notes").insert({user_id:i==null?void 0:i.id,title:`Note ${n.length+1}`});h?console.error(h):(Rt(Gt,r=g[0],r),n.unshift(g[0]),ge.set(n))}async function m(){const{data:g,error:h}=await qt.from("notes").select().order("updated_at",{ascending:!1});ge.set(g),h?console.error(h):g.length>0&&Rt(Gt,r=g[0],r)}return tn(async()=>{m()}),[r,n,s,a,l,u,f,()=>{Rt(ue,s=!0,s),Rt(fe,a=!1,a),Rt(ce,l=!1,l)},async g=>{Rt(Gt,r=g,r),Rt(ce,l=!0,l),Rt(ue,s=!1,s),Rt(fe,a=!1,a);const{data:h,error:p}=await qt.from("note_tags").select("note_id!inner(id), id, tag_id (tag, id)").eq("note_id.id",g.id);Rt(xe,u=h.map(y=>({name:y.tag_id.tag,id:y.id})),u)}]}class Co extends It{constructor(t){super(),Tt(this,t,Oo,So,Pt,{})}}var Mt="top",Xt="bottom",Kt="right",Wt="left",en="auto",Ve=[Mt,Xt,Kt,Wt],ke="start",Ue="end",zo="clippingParents",yi="viewport",Ie="popper",Ao="reference",Sn=Ve.reduce(function(o,t){return o.concat([t+"-"+ke,t+"-"+Ue])},[]),wi=[].concat(Ve,[en]).reduce(function(o,t){return o.concat([t,t+"-"+ke,t+"-"+Ue])},[]),Ro="beforeRead",Io="read",To="afterRead",Po="beforeMain",Bo="main",Do="afterMain",No="beforeWrite",Uo="write",Lo="afterWrite",Fo=[Ro,Io,To,Po,Bo,Do,No,Uo,Lo];function oe(o){return o?(o.nodeName||"").toLowerCase():null}function Jt(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var t=o.ownerDocument;return t&&t.defaultView||window}return o}function _e(o){var t=Jt(o).Element;return o instanceof t||o instanceof Element}function Yt(o){var t=Jt(o).HTMLElement;return o instanceof t||o instanceof HTMLElement}function rn(o){if(typeof ShadowRoot>"u")return!1;var t=Jt(o).ShadowRoot;return o instanceof t||o instanceof ShadowRoot}function jo(o){var t=o.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];!Yt(i)||!oe(i)||(Object.assign(i.style,r),Object.keys(n).forEach(function(s){var a=n[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function Mo(o){var t=o.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var n=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Yt(n)||!oe(n)||(Object.assign(n.style,a),Object.keys(i).forEach(function(l){n.removeAttribute(l)}))})}}const Wo={name:"applyStyles",enabled:!0,phase:"write",fn:jo,effect:Mo,requires:["computeStyles"]};function se(o){return o.split("-")[0]}var ve=Math.max,mr=Math.min,$e=Math.round;function Tr(){var o=navigator.userAgentData;return o!=null&&o.brands?o.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function bi(){return!/^((?!chrome|android).)*safari/i.test(Tr())}function Ee(o,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=o.getBoundingClientRect(),n=1,i=1;t&&Yt(o)&&(n=o.offsetWidth>0&&$e(r.width)/o.offsetWidth||1,i=o.offsetHeight>0&&$e(r.height)/o.offsetHeight||1);var s=_e(o)?Jt(o):window,a=s.visualViewport,l=!bi()&&e,u=(r.left+(l&&a?a.offsetLeft:0))/n,f=(r.top+(l&&a?a.offsetTop:0))/i,m=r.width/n,w=r.height/i;return{width:m,height:w,top:f,right:u+m,bottom:f+w,left:u,x:u,y:f}}function nn(o){var t=Ee(o),e=o.offsetWidth,r=o.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:o.offsetLeft,y:o.offsetTop,width:e,height:r}}function xi(o,t){var e=t.getRootNode&&t.getRootNode();if(o.contains(t))return!0;if(e&&rn(e)){var r=t;do{if(r&&o.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function le(o){return Jt(o).getComputedStyle(o)}function Ho(o){return["table","td","th"].indexOf(oe(o))>=0}function me(o){return((_e(o)?o.ownerDocument:o.document)||window.document).documentElement}function br(o){return oe(o)==="html"?o:o.assignedSlot||o.parentNode||(rn(o)?o.host:null)||me(o)}function On(o){return!Yt(o)||le(o).position==="fixed"?null:o.offsetParent}function Zo(o){var t=/firefox/i.test(Tr()),e=/Trident/i.test(Tr());if(e&&Yt(o)){var r=le(o);if(r.position==="fixed")return null}var n=br(o);for(rn(n)&&(n=n.host);Yt(n)&&["html","body"].indexOf(oe(n))<0;){var i=le(n);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return n;n=n.parentNode}return null}function Ge(o){for(var t=Jt(o),e=On(o);e&&Ho(e)&&le(e).position==="static";)e=On(e);return e&&(oe(e)==="html"||oe(e)==="body"&&le(e).position==="static")?t:e||Zo(o)||t}function sn(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Be(o,t,e){return ve(o,mr(t,e))}function Vo(o,t,e){var r=Be(o,t,e);return r>e?e:r}function ki(){return{top:0,right:0,bottom:0,left:0}}function $i(o){return Object.assign({},ki(),o)}function Ei(o,t){return t.reduce(function(e,r){return e[r]=o,e},{})}var Go=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,$i(typeof t!="number"?t:Ei(t,Ve))};function qo(o){var t,e=o.state,r=o.name,n=o.options,i=e.elements.arrow,s=e.modifiersData.popperOffsets,a=se(e.placement),l=sn(a),u=[Wt,Kt].indexOf(a)>=0,f=u?"height":"width";if(!(!i||!s)){var m=Go(n.padding,e),w=nn(i),d=l==="y"?Mt:Wt,g=l==="y"?Xt:Kt,h=e.rects.reference[f]+e.rects.reference[l]-s[l]-e.rects.popper[f],p=s[l]-e.rects.reference[l],y=Ge(i),v=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=h/2-p/2,x=m[d],C=v-w[f]-m[g],B=v/2-w[f]/2+b,z=Be(x,B,C),P=l;e.modifiersData[r]=(t={},t[P]=z,t.centerOffset=z-B,t)}}function Yo(o){var t=o.state,e=o.options,r=e.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||!xi(t.elements.popper,n)||(t.elements.arrow=n))}const Xo={name:"arrow",enabled:!0,phase:"main",fn:qo,effect:Yo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Se(o){return o.split("-")[1]}var Ko={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jo(o){var t=o.x,e=o.y,r=window,n=r.devicePixelRatio||1;return{x:$e(t*n)/n||0,y:$e(e*n)/n||0}}function Cn(o){var t,e=o.popper,r=o.popperRect,n=o.placement,i=o.variation,s=o.offsets,a=o.position,l=o.gpuAcceleration,u=o.adaptive,f=o.roundOffsets,m=o.isFixed,w=s.x,d=w===void 0?0:w,g=s.y,h=g===void 0?0:g,p=typeof f=="function"?f({x:d,y:h}):{x:d,y:h};d=p.x,h=p.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=Wt,x=Mt,C=window;if(u){var B=Ge(e),z="clientHeight",P="clientWidth";if(B===Jt(e)&&(B=me(e),le(B).position!=="static"&&a==="absolute"&&(z="scrollHeight",P="scrollWidth")),B=B,n===Mt||(n===Wt||n===Kt)&&i===Ue){x=Xt;var I=m&&B===C&&C.visualViewport?C.visualViewport.height:B[z];h-=I-r.height,h*=l?1:-1}if(n===Wt||(n===Mt||n===Xt)&&i===Ue){b=Kt;var H=m&&B===C&&C.visualViewport?C.visualViewport.width:B[P];d-=H-r.width,d*=l?1:-1}}var Q=Object.assign({position:a},u&&Ko),E=f===!0?Jo({x:d,y:h}):{x:d,y:h};if(d=E.x,h=E.y,l){var R;return Object.assign({},Q,(R={},R[x]=v?"0":"",R[b]=y?"0":"",R.transform=(C.devicePixelRatio||1)<=1?"translate("+d+"px, "+h+"px)":"translate3d("+d+"px, "+h+"px, 0)",R))}return Object.assign({},Q,(t={},t[x]=v?h+"px":"",t[b]=y?d+"px":"",t.transform="",t))}function Qo(o){var t=o.state,e=o.options,r=e.gpuAcceleration,n=r===void 0?!0:r,i=e.adaptive,s=i===void 0?!0:i,a=e.roundOffsets,l=a===void 0?!0:a,u={placement:se(t.placement),variation:Se(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Cn(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Cn(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ta={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qo,data:{}};var Qe={passive:!0};function ea(o){var t=o.state,e=o.instance,r=o.options,n=r.scroll,i=n===void 0?!0:n,s=r.resize,a=s===void 0?!0:s,l=Jt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(f){f.addEventListener("scroll",e.update,Qe)}),a&&l.addEventListener("resize",e.update,Qe),function(){i&&u.forEach(function(f){f.removeEventListener("scroll",e.update,Qe)}),a&&l.removeEventListener("resize",e.update,Qe)}}const ra={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ea,data:{}};var na={left:"right",right:"left",bottom:"top",top:"bottom"};function fr(o){return o.replace(/left|right|bottom|top/g,function(t){return na[t]})}var ia={start:"end",end:"start"};function zn(o){return o.replace(/start|end/g,function(t){return ia[t]})}function on(o){var t=Jt(o),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function an(o){return Ee(me(o)).left+on(o).scrollLeft}function sa(o,t){var e=Jt(o),r=me(o),n=e.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(n){i=n.width,s=n.height;var u=bi();(u||!u&&t==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:i,height:s,x:a+an(o),y:l}}function oa(o){var t,e=me(o),r=on(o),n=(t=o.ownerDocument)==null?void 0:t.body,i=ve(e.scrollWidth,e.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=ve(e.scrollHeight,e.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+an(o),l=-r.scrollTop;return le(n||e).direction==="rtl"&&(a+=ve(e.clientWidth,n?n.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}function ln(o){var t=le(o),e=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+n+r)}function Si(o){return["html","body","#document"].indexOf(oe(o))>=0?o.ownerDocument.body:Yt(o)&&ln(o)?o:Si(br(o))}function De(o,t){var e;t===void 0&&(t=[]);var r=Si(o),n=r===((e=o.ownerDocument)==null?void 0:e.body),i=Jt(r),s=n?[i].concat(i.visualViewport||[],ln(r)?r:[]):r,a=t.concat(s);return n?a:a.concat(De(br(s)))}function Pr(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function aa(o,t){var e=Ee(o,!1,t==="fixed");return e.top=e.top+o.clientTop,e.left=e.left+o.clientLeft,e.bottom=e.top+o.clientHeight,e.right=e.left+o.clientWidth,e.width=o.clientWidth,e.height=o.clientHeight,e.x=e.left,e.y=e.top,e}function An(o,t,e){return t===yi?Pr(sa(o,e)):_e(t)?aa(t,e):Pr(oa(me(o)))}function la(o){var t=De(br(o)),e=["absolute","fixed"].indexOf(le(o).position)>=0,r=e&&Yt(o)?Ge(o):o;return _e(r)?t.filter(function(n){return _e(n)&&xi(n,r)&&oe(n)!=="body"}):[]}function ua(o,t,e,r){var n=t==="clippingParents"?la(o):[].concat(t),i=[].concat(n,[e]),s=i[0],a=i.reduce(function(l,u){var f=An(o,u,r);return l.top=ve(f.top,l.top),l.right=mr(f.right,l.right),l.bottom=mr(f.bottom,l.bottom),l.left=ve(f.left,l.left),l},An(o,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Oi(o){var t=o.reference,e=o.element,r=o.placement,n=r?se(r):null,i=r?Se(r):null,s=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(n){case Mt:l={x:s,y:t.y-e.height};break;case Xt:l={x:s,y:t.y+t.height};break;case Kt:l={x:t.x+t.width,y:a};break;case Wt:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var u=n?sn(n):null;if(u!=null){var f=u==="y"?"height":"width";switch(i){case ke:l[u]=l[u]-(t[f]/2-e[f]/2);break;case Ue:l[u]=l[u]+(t[f]/2-e[f]/2);break}}return l}function Le(o,t){t===void 0&&(t={});var e=t,r=e.placement,n=r===void 0?o.placement:r,i=e.strategy,s=i===void 0?o.strategy:i,a=e.boundary,l=a===void 0?zo:a,u=e.rootBoundary,f=u===void 0?yi:u,m=e.elementContext,w=m===void 0?Ie:m,d=e.altBoundary,g=d===void 0?!1:d,h=e.padding,p=h===void 0?0:h,y=$i(typeof p!="number"?p:Ei(p,Ve)),v=w===Ie?Ao:Ie,b=o.rects.popper,x=o.elements[g?v:w],C=ua(_e(x)?x:x.contextElement||me(o.elements.popper),l,f,s),B=Ee(o.elements.reference),z=Oi({reference:B,element:b,strategy:"absolute",placement:n}),P=Pr(Object.assign({},b,z)),I=w===Ie?P:B,H={top:C.top-I.top+y.top,bottom:I.bottom-C.bottom+y.bottom,left:C.left-I.left+y.left,right:I.right-C.right+y.right},Q=o.modifiersData.offset;if(w===Ie&&Q){var E=Q[n];Object.keys(H).forEach(function(R){var _=[Kt,Xt].indexOf(R)>=0?1:-1,A=[Mt,Xt].indexOf(R)>=0?"y":"x";H[R]+=E[A]*_})}return H}function fa(o,t){t===void 0&&(t={});var e=t,r=e.placement,n=e.boundary,i=e.rootBoundary,s=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?wi:l,f=Se(r),m=f?a?Sn:Sn.filter(function(g){return Se(g)===f}):Ve,w=m.filter(function(g){return u.indexOf(g)>=0});w.length===0&&(w=m);var d=w.reduce(function(g,h){return g[h]=Le(o,{placement:h,boundary:n,rootBoundary:i,padding:s})[se(h)],g},{});return Object.keys(d).sort(function(g,h){return d[g]-d[h]})}function ca(o){if(se(o)===en)return[];var t=fr(o);return[zn(o),t,zn(t)]}function ha(o){var t=o.state,e=o.options,r=o.name;if(!t.modifiersData[r]._skip){for(var n=e.mainAxis,i=n===void 0?!0:n,s=e.altAxis,a=s===void 0?!0:s,l=e.fallbackPlacements,u=e.padding,f=e.boundary,m=e.rootBoundary,w=e.altBoundary,d=e.flipVariations,g=d===void 0?!0:d,h=e.allowedAutoPlacements,p=t.options.placement,y=se(p),v=y===p,b=l||(v||!g?[fr(p)]:ca(p)),x=[p].concat(b).reduce(function(it,J){return it.concat(se(J)===en?fa(t,{placement:J,boundary:f,rootBoundary:m,padding:u,flipVariations:g,allowedAutoPlacements:h}):J)},[]),C=t.rects.reference,B=t.rects.popper,z=new Map,P=!0,I=x[0],H=0;H<x.length;H++){var Q=x[H],E=se(Q),R=Se(Q)===ke,_=[Mt,Xt].indexOf(E)>=0,A=_?"width":"height",W=Le(t,{placement:Q,boundary:f,rootBoundary:m,altBoundary:w,padding:u}),F=_?R?Kt:Wt:R?Xt:Mt;C[A]>B[A]&&(F=fr(F));var ot=fr(F),Z=[];if(i&&Z.push(W[E]<=0),a&&Z.push(W[F]<=0,W[ot]<=0),Z.every(function(it){return it})){I=Q,P=!1;break}z.set(Q,Z)}if(P)for(var lt=g?3:1,N=function(J){var ht=x.find(function(kt){var vt=z.get(kt);if(vt)return vt.slice(0,J).every(function(wt){return wt})});if(ht)return I=ht,"break"},U=lt;U>0;U--){var ft=N(U);if(ft==="break")break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}}const da={name:"flip",enabled:!0,phase:"main",fn:ha,requiresIfExists:["offset"],data:{_skip:!1}};function Rn(o,t,e){return e===void 0&&(e={x:0,y:0}),{top:o.top-t.height-e.y,right:o.right-t.width+e.x,bottom:o.bottom-t.height+e.y,left:o.left-t.width-e.x}}function In(o){return[Mt,Kt,Xt,Wt].some(function(t){return o[t]>=0})}function pa(o){var t=o.state,e=o.name,r=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,s=Le(t,{elementContext:"reference"}),a=Le(t,{altBoundary:!0}),l=Rn(s,r),u=Rn(a,n,i),f=In(l),m=In(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}const ma={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pa};function ga(o,t,e){var r=se(o),n=[Wt,Mt].indexOf(r)>=0?-1:1,i=typeof e=="function"?e(Object.assign({},t,{placement:o})):e,s=i[0],a=i[1];return s=s||0,a=(a||0)*n,[Wt,Kt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function va(o){var t=o.state,e=o.options,r=o.name,n=e.offset,i=n===void 0?[0,0]:n,s=wi.reduce(function(f,m){return f[m]=ga(m,t.rects,i),f},{}),a=s[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}const _a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:va};function ya(o){var t=o.state,e=o.name;t.modifiersData[e]=Oi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const wa={name:"popperOffsets",enabled:!0,phase:"read",fn:ya,data:{}};function ba(o){return o==="x"?"y":"x"}function xa(o){var t=o.state,e=o.options,r=o.name,n=e.mainAxis,i=n===void 0?!0:n,s=e.altAxis,a=s===void 0?!1:s,l=e.boundary,u=e.rootBoundary,f=e.altBoundary,m=e.padding,w=e.tether,d=w===void 0?!0:w,g=e.tetherOffset,h=g===void 0?0:g,p=Le(t,{boundary:l,rootBoundary:u,padding:m,altBoundary:f}),y=se(t.placement),v=Se(t.placement),b=!v,x=sn(y),C=ba(x),B=t.modifiersData.popperOffsets,z=t.rects.reference,P=t.rects.popper,I=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,H=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),Q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(!!B){if(i){var R,_=x==="y"?Mt:Wt,A=x==="y"?Xt:Kt,W=x==="y"?"height":"width",F=B[x],ot=F+p[_],Z=F-p[A],lt=d?-P[W]/2:0,N=v===ke?z[W]:P[W],U=v===ke?-P[W]:-z[W],ft=t.elements.arrow,it=d&&ft?nn(ft):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ki(),ht=J[_],kt=J[A],vt=Be(0,z[W],it[W]),wt=b?z[W]/2-lt-vt-ht-H.mainAxis:N-vt-ht-H.mainAxis,Nt=b?-z[W]/2+lt+vt+kt+H.mainAxis:U+vt+kt+H.mainAxis,Et=t.elements.arrow&&Ge(t.elements.arrow),Ft=Et?x==="y"?Et.clientTop||0:Et.clientLeft||0:0,Lt=(R=Q==null?void 0:Q[x])!=null?R:0,c=F+wt-Lt-Ft,V=F+Nt-Lt,M=Be(d?mr(ot,c):ot,F,d?ve(Z,V):Z);B[x]=M,E[x]=M-F}if(a){var S,k=x==="x"?Mt:Wt,T=x==="x"?Xt:Kt,G=B[C],Y=C==="y"?"height":"width",L=G+p[k],tt=G-p[T],ut=[Mt,Wt].indexOf(y)!==-1,et=(S=Q==null?void 0:Q[C])!=null?S:0,ct=ut?L:G-z[Y]-P[Y]-et+H.altAxis,St=ut?G+z[Y]+P[Y]-et-H.altAxis:tt,$t=d&&ut?Vo(ct,G,St):Be(d?ct:L,G,d?St:tt);B[C]=$t,E[C]=$t-G}t.modifiersData[r]=E}}const ka={name:"preventOverflow",enabled:!0,phase:"main",fn:xa,requiresIfExists:["offset"]};function $a(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function Ea(o){return o===Jt(o)||!Yt(o)?on(o):$a(o)}function Sa(o){var t=o.getBoundingClientRect(),e=$e(t.width)/o.offsetWidth||1,r=$e(t.height)/o.offsetHeight||1;return e!==1||r!==1}function Oa(o,t,e){e===void 0&&(e=!1);var r=Yt(t),n=Yt(t)&&Sa(t),i=me(t),s=Ee(o,n,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((oe(t)!=="body"||ln(i))&&(a=Ea(t)),Yt(t)?(l=Ee(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=an(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Ca(o){var t=new Map,e=new Set,r=[];o.forEach(function(i){t.set(i.name,i)});function n(i){e.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&n(l)}}),r.push(i)}return o.forEach(function(i){e.has(i.name)||n(i)}),r}function za(o){var t=Ca(o);return Fo.reduce(function(e,r){return e.concat(t.filter(function(n){return n.phase===r}))},[])}function Aa(o){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(o())})})),t}}function Ra(o){var t=o.reduce(function(e,r){var n=e[r.name];return e[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var Tn={placement:"bottom",modifiers:[],strategy:"absolute"};function Pn(){for(var o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ia(o){o===void 0&&(o={});var t=o,e=t.defaultModifiers,r=e===void 0?[]:e,n=t.defaultOptions,i=n===void 0?Tn:n;return function(a,l,u){u===void 0&&(u=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tn,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],w=!1,d={state:f,setOptions:function(y){var v=typeof y=="function"?y(f.options):y;h(),f.options=Object.assign({},i,f.options,v),f.scrollParents={reference:_e(a)?De(a):a.contextElement?De(a.contextElement):[],popper:De(l)};var b=za(Ra([].concat(r,f.options.modifiers)));return f.orderedModifiers=b.filter(function(x){return x.enabled}),g(),d.update()},forceUpdate:function(){if(!w){var y=f.elements,v=y.reference,b=y.popper;if(!!Pn(v,b)){f.rects={reference:Oa(v,Ge(b),f.options.strategy==="fixed"),popper:nn(b)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(H){return f.modifiersData[H.name]=Object.assign({},H.data)});for(var x=0;x<f.orderedModifiers.length;x++){if(f.reset===!0){f.reset=!1,x=-1;continue}var C=f.orderedModifiers[x],B=C.fn,z=C.options,P=z===void 0?{}:z,I=C.name;typeof B=="function"&&(f=B({state:f,options:P,name:I,instance:d})||f)}}}},update:Aa(function(){return new Promise(function(p){d.forceUpdate(),p(f)})}),destroy:function(){h(),w=!0}};if(!Pn(a,l))return d;d.setOptions(u).then(function(p){!w&&u.onFirstUpdate&&u.onFirstUpdate(p)});function g(){f.orderedModifiers.forEach(function(p){var y=p.name,v=p.options,b=v===void 0?{}:v,x=p.effect;if(typeof x=="function"){var C=x({state:f,name:y,instance:d,options:b}),B=function(){};m.push(C||B)}})}function h(){m.forEach(function(p){return p()}),m=[]}return d}}var Ta=[ra,wa,ta,Wo,_a,da,ka,Xo,ma],Pa=Ia({defaultModifiers:Ta});function Ci(o){let t=null,e,r,n=o;const i=()=>{e!==void 0&&r!==void 0&&(t=Pa(e,r,n))},s=()=>{t!==null&&(t.destroy(),t=null)},a=f=>"subscribe"in f?(l(f),{}):(e=f,i(),{destroy(){s()}}),l=f=>{const m=f.subscribe(w=>{e===void 0?(e=w,i()):(Object.assign(e,w),t==null||t.update())});ms(m)};return[a,(f,m)=>(r=f,n={...o,...m},i(),{update(w){n={...o,...w},t==null||t.setOptions(n)},destroy(){s()}}),()=>t]}function zi(o){const t=e=>{o.contains(e.target)||o.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}const Ba=o=>({}),Bn=o=>({});function Da(o){let t,e;return t=new to({}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Dn(o){let t,e,r,n;const i=o[6].default,s=Xr(i,o,o[5],null);return{c(){t=X("div"),s&&s.c(),this.h()},l(a){t=K(a,"DIV",{class:!0});var l=j(t);s&&s.l(l),l.forEach($),this.h()},h(){O(t,"class","z-10 leading-normal bg-slate-50 shadow rounded")},m(a,l){q(a,t,l),s&&s.m(t,null),e=!0,r||(n=[be(o[3].call(null,t,o[0])),be(zi.call(null,t)),Ct(t,"outclick",o[8]),Ct(t,"click",o[9]),Ct(t,"keydown",o[10])],r=!0)},p(a,l){s&&s.p&&(!e||l&32)&&Kr(s,i,a,a[5],e?Qr(i,a[5],l,null):Jr(a[5]),null)},i(a){e||(st(s,a),e=!0)},o(a){at(s,a),e=!1},d(a){a&&$(t),s&&s.d(a),r=!1,de(n)}}}function Na(o){let t,e,r,n,i,s;const a=o[6].icon,l=Xr(a,o,o[5],Bn),u=l||Da();let f=o[1]&&Dn(o);return{c(){t=X("div"),e=X("button"),u&&u.c(),r=rt(),f&&f.c(),this.h()},l(m){t=K(m,"DIV",{class:!0});var w=j(t);e=K(w,"BUTTON",{});var d=j(e);u&&u.l(d),d.forEach($),r=nt(w),f&&f.l(w),w.forEach($),this.h()},h(){O(t,"class","relative leading-[0]")},m(m,w){q(m,t,w),D(t,e),u&&u.m(e,null),D(t,r),f&&f.m(t,null),n=!0,i||(s=[be(o[2].call(null,e)),Ct(e,"click",gs(o[7]))],i=!0)},p(m,[w]){l&&l.p&&(!n||w&32)&&Kr(l,a,m,m[5],n?Qr(a,m[5],w,Ba):Jr(m[5]),Bn),m[1]?f?(f.p(m,w),w&2&&st(f,1)):(f=Dn(m),f.c(),st(f,1),f.m(t,null)):f&&(Qt(),at(f,1,1,()=>{f=null}),te())},i(m){n||(st(u,m),st(f),n=!0)},o(m){at(u,m),at(f),n=!1},d(m){m&&$(t),u&&u.d(m),f&&f.d(),i=!1,de(s)}}}function Ua(o,t,e){let{$$slots:r={},$$scope:n}=t;const i="bottom",[s,a]=Ci({placement:i}),l={modifiers:[{name:"offset",options:{offset:[0,8]}}]};let u=!1;const f=()=>{e(1,u=!u)},m=()=>{e(1,u=!1)},w=()=>{e(1,u=!1)},d=g=>{console.log(g.key)};return o.$$set=g=>{"$$scope"in g&&e(5,n=g.$$scope)},[l,u,s,a,i,n,r,f,m,w,d]}class Br extends It{constructor(t){super(),Tt(this,t,Ua,Na,Pt,{placement:4,extraOpts:0})}get placement(){return this.$$.ctx[4]}get extraOpts(){return this.$$.ctx[0]}}function La(o){let t,e,r;return{c(){t=_t("line"),e=rt(),r=_t("line"),this.h()},l(n){t=yt(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(t).forEach($),e=nt(n),r=yt(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),j(r).forEach($),this.h()},h(){O(t,"x1","18"),O(t,"y1","6"),O(t,"x2","6"),O(t,"y2","18"),O(r,"x1","6"),O(r,"y1","6"),O(r,"x2","18"),O(r,"y2","18")},m(n,i){q(n,t,i),q(n,e,i),q(n,r,i)},p:zt,d(n){n&&$(t),n&&$(e),n&&$(r)}}}function Fa(o){let t,e;return t=new Ht({props:{size:o[0],$$slots:{default:[La]},$$scope:{ctx:o}}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,[n]){const i={};n&1&&(i.size=r[0]),n&2&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function ja(o,t,e){let{size:r=24}=t;return o.$$set=n=>{"size"in n&&e(0,r=n.size)},[r]}class Ma extends It{constructor(t){super(),Tt(this,t,ja,Fa,Pt,{size:0})}}function Wa(o){let t,e,r=o[0].name+"",n,i,s,a,l,u,f;return a=new Ma({props:{size:16}}),{c(){t=X("div"),e=X("span"),n=bt(r),i=rt(),s=X("button"),dt(a.$$.fragment),this.h()},l(m){t=K(m,"DIV",{class:!0});var w=j(t);e=K(w,"SPAN",{});var d=j(e);n=xt(d,r),d.forEach($),i=nt(w),s=K(w,"BUTTON",{class:!0});var g=j(s);pt(a.$$.fragment,g),g.forEach($),w.forEach($),this.h()},h(){O(s,"class","bg-inherit p-1 rounded hover:bg-blue-500 hover:text-white"),O(t,"class","flex flex-row items-center pl-2 gap-1 rounded bg-blue-300")},m(m,w){q(m,t,w),D(t,e),D(e,n),D(t,i),D(t,s),mt(a,s,null),l=!0,u||(f=Ct(s,"click",o[2]),u=!0)},p(m,[w]){(!l||w&1)&&r!==(r=m[0].name+"")&&Zt(n,r)},i(m){l||(st(a.$$.fragment,m),l=!0)},o(m){at(a.$$.fragment,m),l=!1},d(m){m&&$(t),gt(a),u=!1,f()}}}function Ha(o,t,e){let r;Ot(o,xe,s=>e(1,r=s));let{tag:n={}}=t;const i=async()=>{const{error:s}=await qt.from("note_tags").delete().eq("id",n.id);s?console.error(s):Rt(xe,r=r.filter(a=>a.id!==n.id),r)};return o.$$set=s=>{"tag"in s&&e(0,n=s.tag)},[n,r,i]}class Za extends It{constructor(t){super(),Tt(this,t,Ha,Wa,Pt,{tag:0})}}function Nn(o,t,e){const r=o.slice();return r[28]=t[e],r[30]=e,r}function Un(o,t,e){const r=o.slice();return r[31]=t[e],r}function Va(o){let t,e,r,n,i,s,a,l,u,f,m,w,d,g,h,p,y,v,b,x,C,B,z,P,I,H,Q;return r=new ao({}),u=new mi({props:{size:20}}),h=new gi({props:{size:20}}),C=new _i({props:{size:20}}),{c(){t=X("div"),e=X("button"),dt(r.$$.fragment),n=rt(),i=X("span"),s=bt("(Force) save"),a=rt(),l=X("button"),dt(u.$$.fragment),f=rt(),m=X("span"),w=bt("Download"),d=rt(),g=X("button"),dt(h.$$.fragment),p=rt(),y=X("span"),v=bt("Archive"),b=rt(),x=X("button"),dt(C.$$.fragment),B=rt(),z=X("span"),P=bt("Delete"),this.h()},l(E){t=K(E,"DIV",{class:!0});var R=j(t);e=K(R,"BUTTON",{class:!0,title:!0});var _=j(e);pt(r.$$.fragment,_),n=nt(_),i=K(_,"SPAN",{});var A=j(i);s=xt(A,"(Force) save"),A.forEach($),_.forEach($),a=nt(R),l=K(R,"BUTTON",{class:!0});var W=j(l);pt(u.$$.fragment,W),f=nt(W),m=K(W,"SPAN",{});var F=j(m);w=xt(F,"Download"),F.forEach($),W.forEach($),d=nt(R),g=K(R,"BUTTON",{class:!0});var ot=j(g);pt(h.$$.fragment,ot),p=nt(ot),y=K(ot,"SPAN",{});var Z=j(y);v=xt(Z,"Archive"),Z.forEach($),ot.forEach($),b=nt(R),x=K(R,"BUTTON",{class:!0});var lt=j(x);pt(C.$$.fragment,lt),B=nt(lt),z=K(lt,"SPAN",{});var N=j(z);P=xt(N,"Delete"),N.forEach($),lt.forEach($),R.forEach($),this.h()},h(){O(e,"class","flex flex-row items-center gap-2 w-full px-4 py-1 hover:bg-slate-400 svelte-1dw2cgh"),O(e,"title","Save note"),O(l,"class","flex flex-row items-center gap-2 w-full px-4 py-1 hover:bg-slate-400 svelte-1dw2cgh"),O(g,"class","flex flex-row items-center gap-2 w-full px-4 py-1 hover:bg-slate-400 text-yellow-400 svelte-1dw2cgh"),O(x,"class","flex flex-row items-center gap-2 w-full px-4 py-1 hover:bg-slate-400 text-red-600 svelte-1dw2cgh"),O(t,"class","flex flex-col bg-slate-300 py-2")},m(E,R){q(E,t,R),D(t,e),mt(r,e,null),D(e,n),D(e,i),D(i,s),D(t,a),D(t,l),mt(u,l,null),D(l,f),D(l,m),D(m,w),D(t,d),D(t,g),mt(h,g,null),D(g,p),D(g,y),D(y,v),D(t,b),D(t,x),mt(C,x,null),D(x,B),D(x,z),D(z,P),I=!0,H||(Q=[Ct(e,"click",o[12]),Ct(l,"click",o[15]),Ct(g,"click",o[13]),Ct(x,"click",o[14])],H=!0)},p:zt,i(E){I||(st(r.$$.fragment,E),st(u.$$.fragment,E),st(h.$$.fragment,E),st(C.$$.fragment,E),I=!0)},o(E){at(r.$$.fragment,E),at(u.$$.fragment,E),at(h.$$.fragment,E),at(C.$$.fragment,E),I=!1},d(E){E&&$(t),gt(r),gt(u),gt(h),gt(C),H=!1,de(Q)}}}function Ln(o){let t,e,r,n;return e=new Za({props:{tag:o[31]}}),{c(){t=X("li"),dt(e.$$.fragment),r=rt(),this.h()},l(i){t=K(i,"LI",{class:!0});var s=j(t);pt(e.$$.fragment,s),r=nt(s),s.forEach($),this.h()},h(){O(t,"class","mr-2")},m(i,s){q(i,t,s),mt(e,t,null),D(t,r),n=!0},p(i,s){const a={};s[0]&32&&(a.tag=i[31]),e.$set(a)},i(i){n||(st(e.$$.fragment,i),n=!0)},o(i){at(e.$$.fragment,i),n=!1},d(i){i&&$(t),gt(e)}}}function Fn(o){let t,e,r,n=o[2],i=[];for(let s=0;s<n.length;s+=1)i[s]=jn(Nn(o,n,s));return{c(){t=X("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){t=K(s,"UL",{class:!0});var a=j(t);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach($),this.h()},h(){O(t,"class","z-10 bg-slate-400")},m(s,a){q(s,t,a);for(let l=0;l<i.length;l+=1)i[l].m(t,null);e||(r=[be(o[11].call(null,t,o[0])),be(zi.call(null,t)),Ct(t,"outclick",o[22])],e=!0)},p(s,a){if(a[0]&131084){n=s[2];let l;for(l=0;l<n.length;l+=1){const u=Nn(s,n,l);i[l]?i[l].p(u,a):(i[l]=jn(u),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(s){s&&$(t),Ze(i,s),e=!1,de(r)}}}function jn(o){let t,e,r=o[28].tag+"",n,i,s,a;function l(){return o[21](o[30])}return{c(){t=X("li"),e=X("button"),n=bt(r),i=rt(),this.h()},l(u){t=K(u,"LI",{class:!0});var f=j(t);e=K(f,"BUTTON",{class:!0});var m=j(e);n=xt(m,r),m.forEach($),i=nt(f),f.forEach($),this.h()},h(){O(e,"class","px-4 py-1 svelte-1dw2cgh"),O(t,"class","bg-slate-400 hover:bg-slate-300 "),jt(t,"bg-slate-200",o[3]===o[30])},m(u,f){q(u,t,f),D(t,e),D(e,n),D(t,i),s||(a=Ct(e,"click",l),s=!0)},p(u,f){o=u,f[0]&4&&r!==(r=o[28].tag+"")&&Zt(n,r),f[0]&8&&jt(t,"bg-slate-200",o[3]===o[30])},d(u){u&&$(t),s=!1,a()}}}function Ga(o){let t,e,r,n,i,s,a,l,u,f,m,w,d,g,h,p,y,v,b,x,C,B,z,P,I,H,Q;h=new Br({props:{$$slots:{default:[Va]},$$scope:{ctx:o}}});let E=o[5],R=[];for(let W=0;W<E.length;W+=1)R[W]=Ln(Un(o,E,W));const _=W=>at(R[W],1,1,()=>{R[W]=null});let A=o[2].length>0&&Fn(o);return{c(){t=X("div"),e=X("div"),r=X("div"),n=X("div"),i=X("div"),s=X("button"),a=bt("back"),l=rt(),u=X("label"),f=bt("Title"),m=rt(),w=X("input"),d=rt(),g=X("div"),dt(h.$$.fragment),p=rt(),y=X("div"),v=X("ul");for(let W=0;W<R.length;W+=1)R[W].c();b=rt(),x=X("input"),C=rt(),A&&A.c(),B=rt(),z=X("div"),P=X("textarea"),this.h()},l(W){t=K(W,"DIV",{class:!0});var F=j(t);e=K(F,"DIV",{class:!0});var ot=j(e);r=K(ot,"DIV",{class:!0});var Z=j(r);n=K(Z,"DIV",{class:!0});var lt=j(n);i=K(lt,"DIV",{});var N=j(i);s=K(N,"BUTTON",{class:!0});var U=j(s);a=xt(U,"back"),U.forEach($),l=nt(N),u=K(N,"LABEL",{for:!0,class:!0});var ft=j(u);f=xt(ft,"Title"),ft.forEach($),m=nt(N),w=K(N,"INPUT",{id:!0,type:!0,class:!0}),N.forEach($),d=nt(lt),g=K(lt,"DIV",{class:!0});var it=j(g);pt(h.$$.fragment,it),it.forEach($),lt.forEach($),p=nt(Z),y=K(Z,"DIV",{class:!0});var J=j(y);v=K(J,"UL",{class:!0});var ht=j(v);for(let vt=0;vt<R.length;vt+=1)R[vt].l(ht);ht.forEach($),b=nt(J),x=K(J,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),C=nt(J),A&&A.l(J),J.forEach($),Z.forEach($),ot.forEach($),B=nt(F),z=K(F,"DIV",{class:!0});var kt=j(z);P=K(kt,"TEXTAREA",{}),j(P).forEach($),kt.forEach($),F.forEach($),this.h()},h(){O(s,"class","back-button mr-2 svelte-1dw2cgh"),O(u,"for","title"),O(u,"class","hidden"),O(w,"id","title"),O(w,"type","text"),O(w,"class","text-lg"),O(g,"class","flex flex-row items-center gap-2"),O(n,"class","flex flex-row justify-between mb-2"),O(v,"class","flex flex-row flex-wrap"),O(x,"id","title"),O(x,"type","text"),O(x,"placeholder","tag"),O(x,"class","border-b-2 border-blue-400"),O(y,"class","flex flex-row flex-wrap"),O(r,"class","w-full"),O(e,"class","flex flex-row gap-4 justify-between items-center flex-wrap px-4 "),O(z,"class","h-full"),O(t,"class","h-full w-full flex flex-col overflow-y-hidden bg-gray-100 note")},m(W,F){q(W,t,F),D(t,e),D(e,r),D(r,n),D(n,i),D(i,s),D(s,a),D(i,l),D(i,u),D(u,f),D(i,m),D(i,w),we(w,o[6].title),D(n,d),D(n,g),mt(h,g,null),D(r,p),D(r,y),D(y,v);for(let ot=0;ot<R.length;ot+=1)R[ot].m(v,null);D(y,b),D(y,x),we(x,o[1]),D(y,C),A&&A.m(y,null),D(t,B),D(t,z),D(z,P),o[23](P),I=!0,H||(Q=[Ct(s,"click",o[18]),Ct(w,"input",o[19]),be(o[10].call(null,x)),Ct(x,"input",o[20]),Ct(x,"keyup",o[16])],H=!0)},p(W,F){F[0]&64&&w.value!==W[6].title&&we(w,W[6].title);const ot={};if(F[1]&8&&(ot.$$scope={dirty:F,ctx:W}),h.$set(ot),F[0]&32){E=W[5];let Z;for(Z=0;Z<E.length;Z+=1){const lt=Un(W,E,Z);R[Z]?(R[Z].p(lt,F),st(R[Z],1)):(R[Z]=Ln(lt),R[Z].c(),st(R[Z],1),R[Z].m(v,null))}for(Qt(),Z=E.length;Z<R.length;Z+=1)_(Z);te()}F[0]&2&&x.value!==W[1]&&we(x,W[1]),W[2].length>0?A?A.p(W,F):(A=Fn(W),A.c(),A.m(y,null)):A&&(A.d(1),A=null)},i(W){if(!I){st(h.$$.fragment,W);for(let F=0;F<E.length;F+=1)st(R[F]);I=!0}},o(W){at(h.$$.fragment,W),R=R.filter(Boolean);for(let F=0;F<R.length;F+=1)at(R[F]);I=!1},d(W){W&&$(t),gt(h),Ze(R,W),A&&A.d(),o[23](null),H=!1,de(Q)}}}function qa(o,t=250){let e;return(...r)=>{clearTimeout(e),e=setTimeout(()=>{o(...r)},t)}}function Ya(o,t,e){let r,n,i,s,a,l,u,f;Ot(o,xe,A=>e(5,r=A)),Ot(o,Gt,A=>e(6,n=A)),Ot(o,Ne,A=>e(25,i=A)),Ot(o,Ir,A=>e(26,s=A)),Ot(o,ge,A=>e(27,a=A)),Ot(o,fe,A=>e(7,l=A)),Ot(o,ce,A=>e(8,u=A)),Ot(o,ue,A=>e(9,f=A));const[m,w]=Ci({placement:"bottom-start"}),d={modifiers:[{name:"offset",options:{offset:[0,0]}}]};async function g(){if(n.text!=P.value()){Rt(Gt,n.text=P.value(),n);const{data:A,error:W}=await qt.from("notes").update({user_id:i==null?void 0:i.id,title:n.title,text:n.text}).match({id:n.id});W?console.error(W):console.log("saving note",A)}}async function h(){Rt(Gt,n.text=P.value(),n);const{data:A,error:W}=await qt.from("notes").update({user_id:i==null?void 0:i.id,status:"archived"}).match({id:n.id});console.log(A,W)}async function p(){const{error:A}=await qt.from("notes").delete().eq("id",n.id);A?console.error(A):(Rt(ge,a=a.filter(W=>W.id!==n.id),a),Rt(Gt,n=a[0],n))}async function y(){const A=new Blob([P.value()],{type:"text/plain"}),W=URL.createObjectURL(A),F=document.createElement("a");F.download=`${n.title}.md`,F.href=W,F.click(),URL.revokeObjectURL(W)}let v="",b=[],x=-1;async function C(A){if(v==""){e(2,b=[]);return}if(A.key==="Escape"){e(1,v=""),e(2,b=[]),e(3,x=-1);return}if(e(2,b=s.filter(W=>W.tag.includes(v))),A.key==="ArrowUp"){e(3,x--,x),x<0&&e(3,x=b.length-1);return}if(A.key==="ArrowDown"){e(3,x++,x),x>b.length-1&&e(3,x=0);return}A.key==="Enter"&&b.length>0&&B(x)}async function B(A){const{data:W,error:F}=await qt.from("note_tags").insert({user_id:i==null?void 0:i.id,tag_id:b[A].id,note_id:n==null?void 0:n.id});F?console.error(F):(r.push({id:W[0].id,name:b[A].tag}),xe.set(r)),e(1,v=""),e(2,b=[]),e(3,x=-1)}let z,P;Gt.subscribe(A=>{P&&A.text!=null&&P.value(A.text)}),tn(async()=>{let{default:A}=await _s(()=>import("./easymde-31095713.js").then(W=>W.e),["./easymde-31095713.js","./supabase-82831bcf.js","./preload-helper-b21cceae.js","./index-4aa33943.js","./index-d9b73412.js"],import.meta.url);return P=new A({element:z,placeholder:"Type here...",toolbar:["bold","italic","heading","|","quote"],previewImagesInEditor:!0}),P.codemirror.on("change",qa(g,5e3)),()=>{P.cleanup()}});const I=()=>{Rt(fe,l=!0,l),Rt(ce,u=!1,u),Rt(ue,f=!1,f)};function H(){n.title=this.value,Gt.set(n)}function Q(){v=this.value,e(1,v)}const E=async A=>{B(A)},R=()=>{e(2,b=[]),e(1,v="")};function _(A){fi[A?"unshift":"push"](()=>{z=A,e(4,z)})}return[d,v,b,x,z,r,n,l,u,f,m,w,g,h,p,y,C,B,I,H,Q,E,R,_]}class Xa extends It{constructor(t){super(),Tt(this,t,Ya,Ga,Pt,{extraOpts:0},null,[-1,-1])}get extraOpts(){return this.$$.ctx[0]}}function un(o=[],[t,...e]){let r=o.find(n=>n.name===t);return r||o.push(r={name:t,tags:[]}),e.length>0&&un(r.tags,e),o}function Ka(o=[],[t,...e]){let r=o.find(n=>n.name===t);return r||o.unshift(r={name:t,tags:[]}),e.length>0&&un(r.tags,e),o}var fn={exports:{}},Bt=String,Ai=function(){return{isColorSupported:!1,reset:Bt,bold:Bt,dim:Bt,italic:Bt,underline:Bt,inverse:Bt,hidden:Bt,strikethrough:Bt,black:Bt,red:Bt,green:Bt,yellow:Bt,blue:Bt,magenta:Bt,cyan:Bt,white:Bt,gray:Bt,bgBlack:Bt,bgRed:Bt,bgGreen:Bt,bgYellow:Bt,bgBlue:Bt,bgMagenta:Bt,bgCyan:Bt,bgWhite:Bt}};fn.exports=Ai();fn.exports.createColors=Ai;const Ja={},Qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),re=pi(Qa);let Mn=fn.exports,Wn=re;class Fe extends Error{constructor(t,e,r,n,i,s){super(t),this.name="CssSyntaxError",this.reason=t,i&&(this.file=i),n&&(this.source=n),s&&(this.plugin=s),typeof e<"u"&&typeof r<"u"&&(typeof e=="number"?(this.line=e,this.column=r):(this.line=e.line,this.column=e.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Fe)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let e=this.source;t==null&&(t=Mn.isColorSupported),Wn&&t&&(e=Wn(e));let r=e.split(/\r?\n/),n=Math.max(this.line-3,0),i=Math.min(this.line+2,r.length),s=String(i).length,a,l;if(t){let{bold:u,red:f,gray:m}=Mn.createColors(!0);a=w=>u(f(w)),l=w=>m(w)}else a=l=u=>u;return r.slice(n,i).map((u,f)=>{let m=n+1+f,w=" "+(" "+m).slice(-s)+" | ";if(m===this.line){let d=l(w.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return a(">")+l(w)+u+`
 `+d+a("^")}return" "+l(w)+u}).join(`
`)}toString(){let t=this.showSourceCode();return t&&(t=`

`+t+`
`),this.name+": "+this.message+t}}var cn=Fe;Fe.default=Fe;var qe={};qe.isClean=Symbol("isClean");qe.my=Symbol("my");const Hn={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function tl(o){return o[0].toUpperCase()+o.slice(1)}class Dr{constructor(t){this.builder=t}stringify(t,e){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,e)}document(t){this.body(t)}root(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}comment(t){let e=this.raw(t,"left","commentLeft"),r=this.raw(t,"right","commentRight");this.builder("/*"+e+t.text+r+"*/",t)}decl(t,e){let r=this.raw(t,"between","colon"),n=t.prop+r+this.rawValue(t,"value");t.important&&(n+=t.raws.important||" !important"),e&&(n+=";"),this.builder(n,t)}rule(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}atrule(t,e){let r="@"+t.name,n=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?r+=t.raws.afterName:n&&(r+=" "),t.nodes)this.block(t,r+n);else{let i=(t.raws.between||"")+(e?";":"");this.builder(r+n+i,t)}}body(t){let e=t.nodes.length-1;for(;e>0&&t.nodes[e].type==="comment";)e-=1;let r=this.raw(t,"semicolon");for(let n=0;n<t.nodes.length;n++){let i=t.nodes[n],s=this.raw(i,"before");s&&this.builder(s),this.stringify(i,e!==n||r)}}block(t,e){let r=this.raw(t,"between","beforeOpen");this.builder(e+r+"{",t,"start");let n;t.nodes&&t.nodes.length?(this.body(t),n=this.raw(t,"after")):n=this.raw(t,"after","emptyBody"),n&&this.builder(n),this.builder("}",t,"end")}raw(t,e,r){let n;if(r||(r=e),e&&(n=t.raws[e],typeof n<"u"))return n;let i=t.parent;if(r==="before"&&(!i||i.type==="root"&&i.first===t||i&&i.type==="document"))return"";if(!i)return Hn[r];let s=t.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(t,r);{let a="raw"+tl(r);this[a]?n=this[a](s,t):s.walk(l=>{if(n=l.raws[e],typeof n<"u")return!1})}return typeof n>"u"&&(n=Hn[r]),s.rawCache[r]=n,n}rawSemicolon(t){let e;return t.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(e=r.raws.semicolon,typeof e<"u"))return!1}),e}rawEmptyBody(t){let e;return t.walk(r=>{if(r.nodes&&r.nodes.length===0&&(e=r.raws.after,typeof e<"u"))return!1}),e}rawIndent(t){if(t.raws.indent)return t.raws.indent;let e;return t.walk(r=>{let n=r.parent;if(n&&n!==t&&n.parent&&n.parent===t&&typeof r.raws.before<"u"){let i=r.raws.before.split(`
`);return e=i[i.length-1],e=e.replace(/\S/g,""),!1}}),e}rawBeforeComment(t,e){let r;return t.walkComments(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(e,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(t,e){let r;return t.walkDecls(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(e,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeRule(t){let e;return t.walk(r=>{if(r.nodes&&(r.parent!==t||t.first!==r)&&typeof r.raws.before<"u")return e=r.raws.before,e.includes(`
`)&&(e=e.replace(/[^\n]+$/,"")),!1}),e&&(e=e.replace(/\S/g,"")),e}rawBeforeClose(t){let e;return t.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return e=r.raws.after,e.includes(`
`)&&(e=e.replace(/[^\n]+$/,"")),!1}),e&&(e=e.replace(/\S/g,"")),e}rawBeforeOpen(t){let e;return t.walk(r=>{if(r.type!=="decl"&&(e=r.raws.between,typeof e<"u"))return!1}),e}rawColon(t){let e;return t.walkDecls(r=>{if(typeof r.raws.between<"u")return e=r.raws.between.replace(/[^\s:]/g,""),!1}),e}beforeAfter(t,e){let r;t.type==="decl"?r=this.raw(t,null,"beforeDecl"):t.type==="comment"?r=this.raw(t,null,"beforeComment"):e==="before"?r=this.raw(t,null,"beforeRule"):r=this.raw(t,null,"beforeClose");let n=t.parent,i=0;for(;n&&n.type!=="root";)i+=1,n=n.parent;if(r.includes(`
`)){let s=this.raw(t,null,"indent");if(s.length)for(let a=0;a<i;a++)r+=s}return r}rawValue(t,e){let r=t[e],n=t.raws[e];return n&&n.value===r?n.raw:r}}var Ri=Dr;Dr.default=Dr;let el=Ri;function Nr(o,t){new el(t).stringify(o)}var xr=Nr;Nr.default=Nr;let{isClean:tr,my:rl}=qe,nl=cn,il=Ri,sl=xr;function Ur(o,t){let e=new o.constructor;for(let r in o){if(!Object.prototype.hasOwnProperty.call(o,r)||r==="proxyCache")continue;let n=o[r],i=typeof n;r==="parent"&&i==="object"?t&&(e[r]=t):r==="source"?e[r]=n:Array.isArray(n)?e[r]=n.map(s=>Ur(s,e)):(i==="object"&&n!==null&&(n=Ur(n)),e[r]=n)}return e}class Lr{constructor(t={}){this.raws={},this[tr]=!1,this[rl]=!0;for(let e in t)if(e==="nodes"){this.nodes=[];for(let r of t[e])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[e]=t[e]}error(t,e={}){if(this.source){let{start:r,end:n}=this.rangeBy(e);return this.source.input.error(t,{line:r.line,column:r.column},{line:n.line,column:n.column},e)}return new nl(t)}warn(t,e,r){let n={node:this};for(let i in r)n[i]=r[i];return t.warn(e,n)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(t=sl){t.stringify&&(t=t.stringify);let e="";return t(this,r=>{e+=r}),e}assign(t={}){for(let e in t)this[e]=t[e];return this}clone(t={}){let e=Ur(this);for(let r in t)e[r]=t[r];return e}cloneBefore(t={}){let e=this.clone(t);return this.parent.insertBefore(this,e),e}cloneAfter(t={}){let e=this.clone(t);return this.parent.insertAfter(this,e),e}replaceWith(...t){if(this.parent){let e=this,r=!1;for(let n of t)n===this?r=!0:r?(this.parent.insertAfter(e,n),e=n):this.parent.insertBefore(e,n);r||this.remove()}return this}next(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t+1]}prev(){if(!this.parent)return;let t=this.parent.index(this);return this.parent.nodes[t-1]}before(t){return this.parent.insertBefore(this,t),this}after(t){return this.parent.insertAfter(this,t),this}root(){let t=this;for(;t.parent&&t.parent.type!=="document";)t=t.parent;return t}raw(t,e){return new il().raw(this,t,e)}cleanRaws(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}toJSON(t,e){let r={},n=e==null;e=e||new Map;let i=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let a=this[s];if(Array.isArray(a))r[s]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,e):l);else if(typeof a=="object"&&a.toJSON)r[s]=a.toJSON(null,e);else if(s==="source"){let l=e.get(a.input);l==null&&(l=i,e.set(a.input,i),i++),r[s]={inputId:l,start:a.start,end:a.end}}else r[s]=a}return n&&(r.inputs=[...e.keys()].map(s=>s.toJSON())),r}positionInside(t){let e=this.toString(),r=this.source.start.column,n=this.source.start.line;for(let i=0;i<t;i++)e[i]===`
`?(r=1,n+=1):r+=1;return{line:n,column:r}}positionBy(t){let e=this.source.start;if(t.index)e=this.positionInside(t.index);else if(t.word){let r=this.toString().indexOf(t.word);r!==-1&&(e=this.positionInside(r))}return e}rangeBy(t){let e={line:this.source.start.line,column:this.source.start.column},r=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:e.line,column:e.column+1};if(t.word){let n=this.toString().indexOf(t.word);n!==-1&&(e=this.positionInside(n),r=this.positionInside(n+t.word.length))}else t.start?e={line:t.start.line,column:t.start.column}:t.index&&(e=this.positionInside(t.index)),t.end?r={line:t.end.line,column:t.end.column}:t.endIndex?r=this.positionInside(t.endIndex):t.index&&(r=this.positionInside(t.index+1));return(r.line<e.line||r.line===e.line&&r.column<=e.column)&&(r={line:e.line,column:e.column+1}),{start:e,end:r}}getProxyProcessor(){return{set(t,e,r){return t[e]===r||(t[e]=r,(e==="prop"||e==="value"||e==="name"||e==="params"||e==="important"||e==="text")&&t.markDirty()),!0},get(t,e){return e==="proxyOf"?t:e==="root"?()=>t.root().toProxy():t[e]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){let e=this.source;t.stack=t.stack.replace(/\n\s{4}at /,`$&${e.input.from}:${e.start.line}:${e.start.column}$&`)}return t}markDirty(){if(this[tr]){this[tr]=!1;let t=this;for(;t=t.parent;)t[tr]=!1}}get proxyOf(){return this}}var kr=Lr;Lr.default=Lr;let ol=kr;class Fr extends ol{constructor(t){t&&typeof t.value<"u"&&typeof t.value!="string"&&(t={...t,value:String(t.value)}),super(t),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}var $r=Fr;Fr.default=Fr;let al="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ll=(o,t=21)=>(e=t)=>{let r="",n=e;for(;n--;)r+=o[Math.random()*o.length|0];return r},ul=(o=21)=>{let t="",e=o;for(;e--;)t+=al[Math.random()*64|0];return t};const fl=Object.freeze(Object.defineProperty({__proto__:null,nanoid:ul,customAlphabet:ll},Symbol.toStringTag,{value:"Module"})),cl=pi(fl);let{SourceMapConsumer:Zn,SourceMapGenerator:Vn}=re,{existsSync:hl,readFileSync:dl}=re,{dirname:Cr,join:pl}=re;function ml(o){return Buffer?Buffer.from(o,"base64").toString():window.atob(o)}class jr{constructor(t,e){if(e.map===!1)return;this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");let r=e.map?e.map.prev:void 0,n=this.loadMap(e.from,r);!this.mapFile&&e.from&&(this.mapFile=e.from),this.mapFile&&(this.root=Cr(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new Zn(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(t,e){return t?t.substr(0,e.length)===e:!1}getAnnotationURL(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(t){let e=t.match(/\/\*\s*# sourceMappingURL=/gm);if(!e)return;let r=t.lastIndexOf(e.pop()),n=t.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(t.substring(r,n)))}decodeInline(t){let e=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,n=/^data:application\/json;charset=utf-?8,/,i=/^data:application\/json,/;if(n.test(t)||i.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(e.test(t)||r.test(t))return ml(t.substr(RegExp.lastMatch.length));let s=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+s)}loadFile(t){if(this.root=Cr(t),hl(t))return this.mapFile=t,dl(t,"utf-8").toString().trim()}loadMap(t,e){if(e===!1)return!1;if(e){if(typeof e=="string")return e;if(typeof e=="function"){let r=e(t);if(r){let n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(e instanceof Zn)return Vn.fromSourceMap(e).toString();if(e instanceof Vn)return e.toString();if(this.isMap(e))return JSON.stringify(e);throw new Error("Unsupported previous source map format: "+e.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return t&&(r=pl(Cr(t),r)),this.loadFile(r)}}}isMap(t){return typeof t!="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)}}var Ii=jr;jr.default=jr;let{SourceMapConsumer:gl,SourceMapGenerator:vl}=re,{fileURLToPath:Gn,pathToFileURL:er}=re,{resolve:Mr,isAbsolute:Wr}=re,{nanoid:_l}=cl,zr=re,qn=cn,yl=Ii,Ar=Symbol("fromOffsetCache"),wl=Boolean(gl&&vl),Yn=Boolean(Mr&&Wr);class gr{constructor(t,e={}){if(t===null||typeof t>"u"||typeof t=="object"&&!t.toString)throw new Error(`PostCSS received ${t} instead of CSS string`);if(this.css=t.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,e.from&&(!Yn||/^\w+:\/\//.test(e.from)||Wr(e.from)?this.file=e.from:this.file=Mr(e.from)),Yn&&wl){let r=new yl(this.css,e);if(r.text){this.map=r;let n=r.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+_l(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(t){let e,r;if(this[Ar])r=this[Ar];else{let i=this.css.split(`
`);r=new Array(i.length);let s=0;for(let a=0,l=i.length;a<l;a++)r[a]=s,s+=i[a].length+1;this[Ar]=r}e=r[r.length-1];let n=0;if(t>=e)n=r.length-1;else{let i=r.length-2,s;for(;n<i;)if(s=n+(i-n>>1),t<r[s])i=s-1;else if(t>=r[s+1])n=s+1;else{n=s;break}}return{line:n+1,col:t-r[n]+1}}error(t,e,r,n={}){let i,s,a;if(e&&typeof e=="object"){let u=e,f=r;if(typeof e.offset=="number"){let m=this.fromOffset(u.offset);e=m.line,r=m.col}else e=u.line,r=u.column;if(typeof f.offset=="number"){let m=this.fromOffset(f.offset);s=m.line,a=m.col}else s=f.line,a=f.column}else if(!r){let u=this.fromOffset(e);e=u.line,r=u.col}let l=this.origin(e,r,s,a);return l?i=new qn(t,l.endLine===void 0?l.line:{line:l.line,column:l.column},l.endLine===void 0?l.column:{line:l.endLine,column:l.endColumn},l.source,l.file,n.plugin):i=new qn(t,s===void 0?e:{line:e,column:r},s===void 0?r:{line:s,column:a},this.css,this.file,n.plugin),i.input={line:e,column:r,endLine:s,endColumn:a,source:this.css},this.file&&(er&&(i.input.url=er(this.file).toString()),i.input.file=this.file),i}origin(t,e,r,n){if(!this.map)return!1;let i=this.map.consumer(),s=i.originalPositionFor({line:t,column:e});if(!s.source)return!1;let a;typeof r=="number"&&(a=i.originalPositionFor({line:r,column:n}));let l;Wr(s.source)?l=er(s.source):l=new URL(s.source,this.map.consumer().sourceRoot||er(this.map.mapFile));let u={url:l.toString(),line:s.line,column:s.column,endLine:a&&a.line,endColumn:a&&a.column};if(l.protocol==="file:")if(Gn)u.file=Gn(l);else throw new Error("file: protocol is not available in this PostCSS build");let f=i.sourceContentFor(s.source);return f&&(u.source=f),u}mapResolve(t){return/^\w+:\/\//.test(t)?t:Mr(this.map.consumer().sourceRoot||this.map.root||".",t)}get from(){return this.file||this.id}toJSON(){let t={};for(let e of["hasBOM","css","file","id"])this[e]!=null&&(t[e]=this[e]);return this.map&&(t.map={...this.map},t.map.consumerCache&&(t.map.consumerCache=void 0)),t}}var Er=gr;gr.default=gr;zr&&zr.registerInput&&zr.registerInput(gr);let{SourceMapConsumer:Ti,SourceMapGenerator:cr}=re,{dirname:hr,resolve:Pi,relative:Bi,sep:Di}=re,{pathToFileURL:Xn}=re,bl=Er,xl=Boolean(Ti&&cr),kl=Boolean(hr&&Pi&&Bi&&Di);class $l{constructor(t,e,r,n){this.stringify=t,this.mapOpts=r.map||{},this.root=e,this.opts=r,this.css=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(t=>{if(t.source&&t.source.input.map){let e=t.source.input.map;this.previousMaps.includes(e)||this.previousMaps.push(e)}});else{let t=new bl(this.css,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(e=>e.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(t=>t.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let t;for(let e=this.root.nodes.length-1;e>=0;e--)t=this.root.nodes[e],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(e)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let t={};if(this.root)this.root.walk(e=>{if(e.source){let r=e.source.input.from;if(r&&!t[r]){t[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,e.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}applyPrevMaps(){for(let t of this.previous()){let e=this.toUrl(this.path(t.file)),r=t.root||hr(t.file),n;this.mapOpts.sourcesContent===!1?(n=new Ti(t.text),n.sourcesContent&&(n.sourcesContent=n.sourcesContent.map(()=>null))):n=t.consumer(),this.map.applySourceMap(n,e,this.toUrl(this.path(r)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(t=>t.annotation):!0}toBase64(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}addAnnotation(){let t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";let e=`
`;this.css.includes(`\r
`)&&(e=`\r
`),this.css+=e+"/*# sourceMappingURL="+t+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=cr.fromSourceMap(t)}else this.map=new cr({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(t){if(t.indexOf("<")===0||/^\w+:\/\//.test(t)||this.mapOpts.absolute)return t;let e=this.opts.to?hr(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(e=hr(Pi(e,this.mapOpts.annotation))),t=Bi(e,t),t}toUrl(t){return Di==="\\"&&(t=t.replace(/\\/g,"/")),encodeURI(t).replace(/[#?]/g,encodeURIComponent)}toFileUrl(t){if(Xn)return Xn(t).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))}generateString(){this.css="",this.map=new cr({file:this.outputFile()});let t=1,e=1,r="<no source>",n={source:"",generated:{line:0,column:0},original:{line:0,column:0}},i,s;this.stringify(this.root,(a,l,u)=>{if(this.css+=a,l&&u!=="end"&&(n.generated.line=t,n.generated.column=e-1,l.source&&l.source.start?(n.source=this.sourcePath(l),n.original.line=l.source.start.line,n.original.column=l.source.start.column-1,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,this.map.addMapping(n))),i=a.match(/\n/g),i?(t+=i.length,s=a.lastIndexOf(`
`),e=a.length-s):e+=a.length,l&&u!=="start"){let f=l.parent||{raws:{}};(l.type!=="decl"||l!==f.last||f.raws.semicolon)&&(l.source&&l.source.end?(n.source=this.sourcePath(l),n.original.line=l.source.end.line,n.original.column=l.source.end.column-1,n.generated.line=t,n.generated.column=e-2,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,n.generated.line=t,n.generated.column=e-1,this.map.addMapping(n)))}})}generate(){if(this.clearAnnotation(),kl&&xl&&this.isMap())return this.generateMap();{let t="";return this.stringify(this.root,e=>{t+=e}),[t]}}}var Ni=$l;let El=kr;class Hr extends El{constructor(t){super(t),this.type="comment"}}var Sr=Hr;Hr.default=Hr;let{isClean:Ui,my:Li}=qe,Fi=$r,ji=Sr,Sl=kr,Mi,hn,dn,Wi;function Hi(o){return o.map(t=>(t.nodes&&(t.nodes=Hi(t.nodes)),delete t.source,t))}function Zi(o){if(o[Ui]=!1,o.proxyOf.nodes)for(let t of o.proxyOf.nodes)Zi(t)}class ee extends Sl{push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}each(t){if(!this.proxyOf.nodes)return;let e=this.getIterator(),r,n;for(;this.indexes[e]<this.proxyOf.nodes.length&&(r=this.indexes[e],n=t(this.proxyOf.nodes[r],r),n!==!1);)this.indexes[e]+=1;return delete this.indexes[e],n}walk(t){return this.each((e,r)=>{let n;try{n=t(e,r)}catch(i){throw e.addToError(i)}return n!==!1&&e.walk&&(n=e.walk(t)),n})}walkDecls(t,e){return e?t instanceof RegExp?this.walk((r,n)=>{if(r.type==="decl"&&t.test(r.prop))return e(r,n)}):this.walk((r,n)=>{if(r.type==="decl"&&r.prop===t)return e(r,n)}):(e=t,this.walk((r,n)=>{if(r.type==="decl")return e(r,n)}))}walkRules(t,e){return e?t instanceof RegExp?this.walk((r,n)=>{if(r.type==="rule"&&t.test(r.selector))return e(r,n)}):this.walk((r,n)=>{if(r.type==="rule"&&r.selector===t)return e(r,n)}):(e=t,this.walk((r,n)=>{if(r.type==="rule")return e(r,n)}))}walkAtRules(t,e){return e?t instanceof RegExp?this.walk((r,n)=>{if(r.type==="atrule"&&t.test(r.name))return e(r,n)}):this.walk((r,n)=>{if(r.type==="atrule"&&r.name===t)return e(r,n)}):(e=t,this.walk((r,n)=>{if(r.type==="atrule")return e(r,n)}))}walkComments(t){return this.walk((e,r)=>{if(e.type==="comment")return t(e,r)})}append(...t){for(let e of t){let r=this.normalize(e,this.last);for(let n of r)this.proxyOf.nodes.push(n)}return this.markDirty(),this}prepend(...t){t=t.reverse();for(let e of t){let r=this.normalize(e,this.first,"prepend").reverse();for(let n of r)this.proxyOf.nodes.unshift(n);for(let n in this.indexes)this.indexes[n]=this.indexes[n]+r.length}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let e of this.nodes)e.cleanRaws(t)}insertBefore(t,e){let r=this.index(t),n=t===0?"prepend":!1,i=this.normalize(e,this.proxyOf.nodes[r],n).reverse();r=this.index(t);for(let a of i)this.proxyOf.nodes.splice(r,0,a);let s;for(let a in this.indexes)s=this.indexes[a],r<=s&&(this.indexes[a]=s+i.length);return this.markDirty(),this}insertAfter(t,e){let r=this.index(t),n=this.normalize(e,this.proxyOf.nodes[r]).reverse();r=this.index(t);for(let s of n)this.proxyOf.nodes.splice(r+1,0,s);let i;for(let s in this.indexes)i=this.indexes[s],r<i&&(this.indexes[s]=i+n.length);return this.markDirty(),this}removeChild(t){t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);let e;for(let r in this.indexes)e=this.indexes[r],e>=t&&(this.indexes[r]=e-1);return this.markDirty(),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(t,e,r){return r||(r=e,e={}),this.walkDecls(n=>{e.props&&!e.props.includes(n.prop)||e.fast&&!n.value.includes(e.fast)||(n.value=n.value.replace(t,r))}),this.markDirty(),this}every(t){return this.nodes.every(t)}some(t){return this.nodes.some(t)}index(t){return typeof t=="number"?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}get first(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(t,e){if(typeof t=="string")t=Hi(Mi(t).nodes);else if(Array.isArray(t)){t=t.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type==="root"&&this.type!=="document"){t=t.nodes.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value>"u")throw new Error("Value field is missed in node creation");typeof t.value!="string"&&(t.value=String(t.value)),t=[new Fi(t)]}else if(t.selector)t=[new hn(t)];else if(t.name)t=[new dn(t)];else if(t.text)t=[new ji(t)];else throw new Error("Unknown node type in node creation");return t.map(n=>(n[Li]||ee.rebuild(n),n=n.proxyOf,n.parent&&n.parent.removeChild(n),n[Ui]&&Zi(n),typeof n.raws.before>"u"&&e&&typeof e.raws.before<"u"&&(n.raws.before=e.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}getProxyProcessor(){return{set(t,e,r){return t[e]===r||(t[e]=r,(e==="name"||e==="params"||e==="selector")&&t.markDirty()),!0},get(t,e){return e==="proxyOf"?t:t[e]?e==="each"||typeof e=="string"&&e.startsWith("walk")?(...r)=>t[e](...r.map(n=>typeof n=="function"?(i,s)=>n(i.toProxy(),s):n)):e==="every"||e==="some"?r=>t[e]((n,...i)=>r(n.toProxy(),...i)):e==="root"?()=>t.root().toProxy():e==="nodes"?t.nodes.map(r=>r.toProxy()):e==="first"||e==="last"?t[e].toProxy():t[e]:t[e]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}}ee.registerParse=o=>{Mi=o};ee.registerRule=o=>{hn=o};ee.registerAtRule=o=>{dn=o};ee.registerRoot=o=>{Wi=o};var ye=ee;ee.default=ee;ee.rebuild=o=>{o.type==="atrule"?Object.setPrototypeOf(o,dn.prototype):o.type==="rule"?Object.setPrototypeOf(o,hn.prototype):o.type==="decl"?Object.setPrototypeOf(o,Fi.prototype):o.type==="comment"?Object.setPrototypeOf(o,ji.prototype):o.type==="root"&&Object.setPrototypeOf(o,Wi.prototype),o[Li]=!0,o.nodes&&o.nodes.forEach(t=>{ee.rebuild(t)})};let Ol=ye,Vi,Gi;class je extends Ol{constructor(t){super({type:"document",...t}),this.nodes||(this.nodes=[])}toResult(t={}){return new Vi(new Gi,this,t).stringify()}}je.registerLazyResult=o=>{Vi=o};je.registerProcessor=o=>{Gi=o};var pn=je;je.default=je;class Zr{constructor(t,e={}){if(this.type="warning",this.text=t,e.node&&e.node.source){let r=e.node.rangeBy(e);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in e)this[r]=e[r]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}var qi=Zr;Zr.default=Zr;let Cl=qi;class Vr{constructor(t,e,r){this.processor=t,this.messages=[],this.root=e,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t,e={}){e.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(e.plugin=this.lastPlugin.postcssPlugin);let r=new Cl(t,e);return this.messages.push(r),r}warnings(){return this.messages.filter(t=>t.type==="warning")}get content(){return this.css}}var mn=Vr;Vr.default=Vr;const Rr="'".charCodeAt(0),Kn='"'.charCodeAt(0),rr="\\".charCodeAt(0),Jn="/".charCodeAt(0),nr=`
`.charCodeAt(0),Te=" ".charCodeAt(0),ir="\f".charCodeAt(0),sr="	".charCodeAt(0),or="\r".charCodeAt(0),zl="[".charCodeAt(0),Al="]".charCodeAt(0),Rl="(".charCodeAt(0),Il=")".charCodeAt(0),Tl="{".charCodeAt(0),Pl="}".charCodeAt(0),Bl=";".charCodeAt(0),Dl="*".charCodeAt(0),Nl=":".charCodeAt(0),Ul="@".charCodeAt(0),ar=/[\t\n\f\r "#'()/;[\\\]{}]/g,lr=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Ll=/.[\n"'(/\\]/,Qn=/[\da-f]/i;var Fl=function(t,e={}){let r=t.css.valueOf(),n=e.ignoreErrors,i,s,a,l,u,f,m,w,d,g,h=r.length,p=0,y=[],v=[];function b(){return p}function x(P){throw t.error("Unclosed "+P,p)}function C(){return v.length===0&&p>=h}function B(P){if(v.length)return v.pop();if(p>=h)return;let I=P?P.ignoreUnclosed:!1;switch(i=r.charCodeAt(p),i){case nr:case Te:case sr:case or:case ir:{s=p;do s+=1,i=r.charCodeAt(s);while(i===Te||i===nr||i===sr||i===or||i===ir);g=["space",r.slice(p,s)],p=s-1;break}case zl:case Al:case Tl:case Pl:case Nl:case Bl:case Il:{let H=String.fromCharCode(i);g=[H,H,p];break}case Rl:{if(w=y.length?y.pop()[1]:"",d=r.charCodeAt(p+1),w==="url"&&d!==Rr&&d!==Kn&&d!==Te&&d!==nr&&d!==sr&&d!==ir&&d!==or){s=p;do{if(f=!1,s=r.indexOf(")",s+1),s===-1)if(n||I){s=p;break}else x("bracket");for(m=s;r.charCodeAt(m-1)===rr;)m-=1,f=!f}while(f);g=["brackets",r.slice(p,s+1),p,s],p=s}else s=r.indexOf(")",p+1),l=r.slice(p,s+1),s===-1||Ll.test(l)?g=["(","(",p]:(g=["brackets",l,p,s],p=s);break}case Rr:case Kn:{a=i===Rr?"'":'"',s=p;do{if(f=!1,s=r.indexOf(a,s+1),s===-1)if(n||I){s=p+1;break}else x("string");for(m=s;r.charCodeAt(m-1)===rr;)m-=1,f=!f}while(f);g=["string",r.slice(p,s+1),p,s],p=s;break}case Ul:{ar.lastIndex=p+1,ar.test(r),ar.lastIndex===0?s=r.length-1:s=ar.lastIndex-2,g=["at-word",r.slice(p,s+1),p,s],p=s;break}case rr:{for(s=p,u=!0;r.charCodeAt(s+1)===rr;)s+=1,u=!u;if(i=r.charCodeAt(s+1),u&&i!==Jn&&i!==Te&&i!==nr&&i!==sr&&i!==or&&i!==ir&&(s+=1,Qn.test(r.charAt(s)))){for(;Qn.test(r.charAt(s+1));)s+=1;r.charCodeAt(s+1)===Te&&(s+=1)}g=["word",r.slice(p,s+1),p,s],p=s;break}default:{i===Jn&&r.charCodeAt(p+1)===Dl?(s=r.indexOf("*/",p+2)+1,s===0&&(n||I?s=r.length:x("comment")),g=["comment",r.slice(p,s+1),p,s],p=s):(lr.lastIndex=p+1,lr.test(r),lr.lastIndex===0?s=r.length-1:s=lr.lastIndex-2,g=["word",r.slice(p,s+1),p,s],y.push(g),p=s);break}}return p++,g}function z(P){v.push(P)}return{back:z,nextToken:B,endOfFile:C,position:b}};let Yi=ye;class vr extends Yi{constructor(t){super(t),this.type="atrule"}append(...t){return this.proxyOf.nodes||(this.nodes=[]),super.append(...t)}prepend(...t){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...t)}}var gn=vr;vr.default=vr;Yi.registerAtRule(vr);let Xi=ye,Ki,Ji;class Oe extends Xi{constructor(t){super(t),this.type="root",this.nodes||(this.nodes=[])}removeChild(t,e){let r=this.index(t);return!e&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(t)}normalize(t,e,r){let n=super.normalize(t);if(e){if(r==="prepend")this.nodes.length>1?e.raws.before=this.nodes[1].raws.before:delete e.raws.before;else if(this.first!==e)for(let i of n)i.raws.before=e.raws.before}return n}toResult(t={}){return new Ki(new Ji,this,t).stringify()}}Oe.registerLazyResult=o=>{Ki=o};Oe.registerProcessor=o=>{Ji=o};var Ye=Oe;Oe.default=Oe;Xi.registerRoot(Oe);let Me={split(o,t,e){let r=[],n="",i=!1,s=0,a=!1,l="",u=!1;for(let f of o)u?u=!1:f==="\\"?u=!0:a?f===l&&(a=!1):f==='"'||f==="'"?(a=!0,l=f):f==="("?s+=1:f===")"?s>0&&(s-=1):s===0&&t.includes(f)&&(i=!0),i?(n!==""&&r.push(n.trim()),n="",i=!1):n+=f;return(e||n!=="")&&r.push(n.trim()),r},space(o){let t=[" ",`
`,"	"];return Me.split(o,t)},comma(o){return Me.split(o,[","],!0)}};var Qi=Me;Me.default=Me;let ts=ye,jl=Qi;class _r extends ts{constructor(t){super(t),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return jl.comma(this.selector)}set selectors(t){let e=this.selector?this.selector.match(/,\s*/):null,r=e?e[0]:","+this.raw("between","beforeOpen");this.selector=t.join(r)}}var vn=_r;_r.default=_r;ts.registerRule(_r);let Ml=$r,Wl=Fl,Hl=Sr,Zl=gn,Vl=Ye,ti=vn;const ei={empty:!0,space:!0};function Gl(o){for(let t=o.length-1;t>=0;t--){let e=o[t],r=e[3]||e[2];if(r)return r}}class ql{constructor(t){this.input=t,this.root=new Vl,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:t,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=Wl(this.input)}parse(){let t;for(;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()}comment(t){let e=new Hl;this.init(e,t[2]),e.source.end=this.getPosition(t[3]||t[2]);let r=t[1].slice(2,-2);if(/^\s*$/.test(r))e.text="",e.raws.left=r,e.raws.right="";else{let n=r.match(/^(\s*)([^]*\S)(\s*)$/);e.text=n[2],e.raws.left=n[1],e.raws.right=n[3]}}emptyRule(t){let e=new ti;this.init(e,t[2]),e.selector="",e.raws.between="",this.current=e}other(t){let e=!1,r=null,n=!1,i=null,s=[],a=t[1].startsWith("--"),l=[],u=t;for(;u;){if(r=u[0],l.push(u),r==="("||r==="[")i||(i=u),s.push(r==="("?")":"]");else if(a&&n&&r==="{")i||(i=u),s.push("}");else if(s.length===0)if(r===";")if(n){this.decl(l,a);return}else break;else if(r==="{"){this.rule(l);return}else if(r==="}"){this.tokenizer.back(l.pop()),e=!0;break}else r===":"&&(n=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(i=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(e=!0),s.length>0&&this.unclosedBracket(i),e&&n){if(!a)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}rule(t){t.pop();let e=new ti;this.init(e,t[0][2]),e.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(e,"selector",t),this.current=e}decl(t,e){let r=new Ml;this.init(r,t[0][2]);let n=t[t.length-1];for(n[0]===";"&&(this.semicolon=!0,t.pop()),r.source.end=this.getPosition(n[3]||n[2]||Gl(t));t[0][0]!=="word";)t.length===1&&this.unknownWord(t),r.raws.before+=t.shift()[1];for(r.source.start=this.getPosition(t[0][2]),r.prop="";t.length;){let u=t[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=t.shift()[1]}r.raws.between="";let i;for(;t.length;)if(i=t.shift(),i[0]===":"){r.raws.between+=i[1];break}else i[0]==="word"&&/\w/.test(i[1])&&this.unknownWord([i]),r.raws.between+=i[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],a;for(;t.length&&(a=t[0][0],!(a!=="space"&&a!=="comment"));)s.push(t.shift());this.precheckMissedSemicolon(t);for(let u=t.length-1;u>=0;u--){if(i=t[u],i[1].toLowerCase()==="!important"){r.important=!0;let f=this.stringFrom(t,u);f=this.spacesFromEnd(t)+f,f!==" !important"&&(r.raws.important=f);break}else if(i[1].toLowerCase()==="important"){let f=t.slice(0),m="";for(let w=u;w>0;w--){let d=f[w][0];if(m.trim().indexOf("!")===0&&d!=="space")break;m=f.pop()[1]+m}m.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=m,t=f)}if(i[0]!=="space"&&i[0]!=="comment")break}t.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=s.map(u=>u[1]).join(""),s=[]),this.raw(r,"value",s.concat(t),e),r.value.includes(":")&&!e&&this.checkMissedSemicolon(t)}atrule(t){let e=new Zl;e.name=t[1].slice(1),e.name===""&&this.unnamedAtrule(e,t),this.init(e,t[2]);let r,n,i,s=!1,a=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),r=t[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){e.source.end=this.getPosition(t[2]),this.semicolon=!0;break}else if(r==="{"){a=!0;break}else if(r==="}"){if(l.length>0){for(i=l.length-1,n=l[i];n&&n[0]==="space";)n=l[--i];n&&(e.source.end=this.getPosition(n[3]||n[2]))}this.end(t);break}else l.push(t);else l.push(t);if(this.tokenizer.endOfFile()){s=!0;break}}e.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(e.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(e,"params",l),s&&(t=l[l.length-1],e.source.end=this.getPosition(t[3]||t[2]),this.spaces=e.raws.between,e.raws.between="")):(e.raws.afterName="",e.params=""),a&&(e.nodes=[],this.current=e)}end(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current=this.current.parent):this.unexpectedClose(t)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(t){if(this.spaces+=t[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&e.type==="rule"&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(t){let e=this.input.fromOffset(t);return{offset:t,line:e.line,column:e.col}}init(t,e){this.current.push(t),t.source={start:this.getPosition(e),input:this.input},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)}raw(t,e,r,n){let i,s,a=r.length,l="",u=!0,f,m;for(let w=0;w<a;w+=1)i=r[w],s=i[0],s==="space"&&w===a-1&&!n?u=!1:s==="comment"?(m=r[w-1]?r[w-1][0]:"empty",f=r[w+1]?r[w+1][0]:"empty",!ei[m]&&!ei[f]?l.slice(-1)===","?u=!1:l+=i[1]:u=!1):l+=i[1];if(!u){let w=r.reduce((d,g)=>d+g[1],"");t.raws[e]={value:l,raw:w}}t[e]=l}spacesAndCommentsFromEnd(t){let e,r="";for(;t.length&&(e=t[t.length-1][0],!(e!=="space"&&e!=="comment"));)r=t.pop()[1]+r;return r}spacesAndCommentsFromStart(t){let e,r="";for(;t.length&&(e=t[0][0],!(e!=="space"&&e!=="comment"));)r+=t.shift()[1];return r}spacesFromEnd(t){let e,r="";for(;t.length&&(e=t[t.length-1][0],e==="space");)r=t.pop()[1]+r;return r}stringFrom(t,e){let r="";for(let n=e;n<t.length;n++)r+=t[n][1];return t.splice(e,t.length-e),r}colon(t){let e=0,r,n,i;for(let[s,a]of t.entries()){if(r=a,n=r[0],n==="("&&(e+=1),n===")"&&(e-=1),e===0&&n===":")if(!i)this.doubleColon(r);else{if(i[0]==="word"&&i[1]==="progid")continue;return s}i=r}return!1}unclosedBracket(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}unknownWord(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}unexpectedClose(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}unclosedBlock(){let t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}doubleColon(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}unnamedAtrule(t,e){throw this.input.error("At-rule without name",{offset:e[2]},{offset:e[2]+e[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(t){let e=this.colon(t);if(e===!1)return;let r=0,n;for(let i=e-1;i>=0&&(n=t[i],!(n[0]!=="space"&&(r+=1,r===2)));i--);throw this.input.error("Missed semicolon",n[0]==="word"?n[3]+1:n[2])}}var Yl=ql;let Xl=ye,Kl=Yl,Jl=Er;function yr(o,t){let e=new Jl(o,t),r=new Kl(e);try{r.parse()}catch(n){throw n}return r.root}var _n=yr;yr.default=yr;Xl.registerParse(yr);let{isClean:ie,my:Ql}=qe,tu=Ni,eu=xr,ru=ye,nu=pn,ri=mn,iu=_n,su=Ye;const ou={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},au={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},lu={postcssPlugin:!0,prepare:!0,Once:!0},Ce=0;function Pe(o){return typeof o=="object"&&typeof o.then=="function"}function es(o){let t=!1,e=ou[o.type];return o.type==="decl"?t=o.prop.toLowerCase():o.type==="atrule"&&(t=o.name.toLowerCase()),t&&o.append?[e,e+"-"+t,Ce,e+"Exit",e+"Exit-"+t]:t?[e,e+"-"+t,e+"Exit",e+"Exit-"+t]:o.append?[e,Ce,e+"Exit"]:[e,e+"Exit"]}function ni(o){let t;return o.type==="document"?t=["Document",Ce,"DocumentExit"]:o.type==="root"?t=["Root",Ce,"RootExit"]:t=es(o),{node:o,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function Gr(o){return o[ie]=!1,o.nodes&&o.nodes.forEach(t=>Gr(t)),o}let qr={};class he{constructor(t,e,r){this.stringified=!1,this.processed=!1;let n;if(typeof e=="object"&&e!==null&&(e.type==="root"||e.type==="document"))n=Gr(e);else if(e instanceof he||e instanceof ri)n=Gr(e.root),e.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=e.map);else{let i=iu;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{n=i(e,r)}catch(s){this.processed=!0,this.error=s}n&&!n[Ql]&&ru.rebuild(n)}this.result=new ri(t,n,r),this.helpers={...qr,result:this.result,postcss:qr},this.plugins=this.processor.plugins.map(i=>typeof i=="object"&&i.prepare?{...i,...i.prepare(this.result)}:i)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(t,e){return this.async().then(t,e)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins){let e=this.runOnRoot(t);if(Pe(e))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[ie];)t[ie]=!0,this.walkSync(t);if(this.listeners.OnceExit)if(t.type==="document")for(let e of t.nodes)this.visitSync(this.listeners.OnceExit,e);else this.visitSync(this.listeners.OnceExit,t)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,e=eu;t.syntax&&(e=t.syntax.stringify),t.stringifier&&(e=t.stringifier),e.stringify&&(e=e.stringify);let n=new tu(e,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}walkSync(t){t[ie]=!0;let e=es(t);for(let r of e)if(r===Ce)t.nodes&&t.each(n=>{n[ie]||this.walkSync(n)});else{let n=this.listeners[r];if(n&&this.visitSync(n,t.toProxy()))return}}visitSync(t,e){for(let[r,n]of t){this.result.lastPlugin=r;let i;try{i=n(e,this.helpers)}catch(s){throw this.handleError(s,e.proxyOf)}if(e.type!=="root"&&e.type!=="document"&&!e.parent)return!0;if(Pe(i))throw this.getAsyncError()}}runOnRoot(t){this.result.lastPlugin=t;try{if(typeof t=="object"&&t.Once){if(this.result.root.type==="document"){let e=this.result.root.nodes.map(r=>t.Once(r,this.helpers));return Pe(e[0])?Promise.all(e):e}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(e){throw this.handleError(e)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,e){let r=this.result.lastPlugin;try{e&&e.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin?(t.plugin=r.postcssPlugin,t.setMessage()):r.postcssVersion}catch(n){console&&console.error&&console.error(n)}return t}async runAsync(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let e=this.plugins[t],r=this.runOnRoot(e);if(Pe(r))try{await r}catch(n){throw this.handleError(n)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[ie];){t[ie]=!0;let e=[ni(t)];for(;e.length>0;){let r=this.visitTick(e);if(Pe(r))try{await r}catch(n){let i=e[e.length-1].node;throw this.handleError(n,i)}}}if(this.listeners.OnceExit)for(let[e,r]of this.listeners.OnceExit){this.result.lastPlugin=e;try{if(t.type==="document"){let n=t.nodes.map(i=>r(i,this.helpers));await Promise.all(n)}else await r(t,this.helpers)}catch(n){throw this.handleError(n)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let t=(e,r,n)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([e,n])};for(let e of this.plugins)if(typeof e=="object")for(let r in e){if(!au[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${e.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!lu[r])if(typeof e[r]=="object")for(let n in e[r])n==="*"?t(e,r,e[r][n]):t(e,r+"-"+n.toLowerCase(),e[r][n]);else typeof e[r]=="function"&&t(e,r,e[r])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(t){let e=t[t.length-1],{node:r,visitors:n}=e;if(r.type!=="root"&&r.type!=="document"&&!r.parent){t.pop();return}if(n.length>0&&e.visitorIndex<n.length){let[s,a]=n[e.visitorIndex];e.visitorIndex+=1,e.visitorIndex===n.length&&(e.visitors=[],e.visitorIndex=0),this.result.lastPlugin=s;try{return a(r.toProxy(),this.helpers)}catch(l){throw this.handleError(l,r)}}if(e.iterator!==0){let s=e.iterator,a;for(;a=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!a[ie]){a[ie]=!0,t.push(ni(a));return}e.iterator=0,delete r.indexes[s]}let i=e.events;for(;e.eventIndex<i.length;){let s=i[e.eventIndex];if(e.eventIndex+=1,s===Ce){r.nodes&&r.nodes.length&&(r[ie]=!0,e.iterator=r.getIterator());return}else if(this.listeners[s]){e.visitors=this.listeners[s];return}}t.pop()}}he.registerPostcss=o=>{qr=o};var rs=he;he.default=he;su.registerLazyResult(he);nu.registerLazyResult(he);let uu=Ni,fu=xr,cu=_n;const hu=mn;class Yr{constructor(t,e,r){e=e.toString(),this.stringified=!1,this._processor=t,this._css=e,this._opts=r,this._map=void 0;let n,i=fu;this.result=new hu(this._processor,n,this._opts),this.result.css=e;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let a=new uu(i,n,this._opts,e);if(a.isMap()){let[l,u]=a.generate();l&&(this.result.css=l),u&&(this.result.map=u)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let t,e=cu;try{t=e(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=t,t}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(t,e){return this.async().then(t,e)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}var du=Yr;Yr.default=Yr;let pu=du,mu=rs,gu=pn,vu=Ye;class We{constructor(t=[]){this.version="8.4.18",this.plugins=this.normalize(t)}use(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}process(t,e={}){return this.plugins.length===0&&typeof e.parser>"u"&&typeof e.stringifier>"u"&&typeof e.syntax>"u"?new pu(this,t,e):new mu(this,t,e)}normalize(t){let e=[];for(let r of t)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))e=e.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)e.push(r);else if(typeof r=="function")e.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return e}}var _u=We;We.default=We;vu.registerProcessor(We);gu.registerProcessor(We);let yu=$r,wu=Ii,bu=Sr,xu=gn,ku=Er,$u=Ye,Eu=vn;function He(o,t){if(Array.isArray(o))return o.map(n=>He(n));let{inputs:e,...r}=o;if(e){t=[];for(let n of e){let i={...n,__proto__:ku.prototype};i.map&&(i.map={...i.map,__proto__:wu.prototype}),t.push(i)}}if(r.nodes&&(r.nodes=o.nodes.map(n=>He(n,t))),r.source){let{inputId:n,...i}=r.source;r.source=i,n!=null&&(r.source.input=t[n])}if(r.type==="root")return new $u(r);if(r.type==="decl")return new yu(r);if(r.type==="rule")return new Eu(r);if(r.type==="comment")return new bu(r);if(r.type==="atrule")return new xu(r);throw new Error("Unknown node type: "+o.type)}var Su=He;He.default=He;let Ou=cn,ns=$r,Cu=rs,zu=ye,yn=_u,Au=xr,Ru=Su,is=pn,Iu=qi,ss=Sr,os=gn,Tu=mn,Pu=Er,Bu=_n,Du=Qi,as=vn,ls=Ye,Nu=kr;function At(...o){return o.length===1&&Array.isArray(o[0])&&(o=o[0]),new yn(o)}At.plugin=function(t,e){let r=!1;function n(...s){console&&console.warn&&!r&&(r=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(t+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let a=e(...s);return a.postcssPlugin=t,a.postcssVersion=new yn().version,a}let i;return Object.defineProperty(n,"postcss",{get(){return i||(i=n()),i}}),n.process=function(s,a,l){return At([n(l)]).process(s,a)},n};At.stringify=Au;At.parse=Bu;At.fromJSON=Ru;At.list=Du;At.comment=o=>new ss(o);At.atRule=o=>new os(o);At.decl=o=>new ns(o);At.rule=o=>new as(o);At.root=o=>new ls(o);At.document=o=>new is(o);At.CssSyntaxError=Ou;At.Declaration=ns;At.Container=zu;At.Processor=yn;At.Document=is;At.Comment=ss;At.Warning=Iu;At.AtRule=os;At.Result=Tu;At.Input=Pu;At.Rule=as;At.Root=ls;At.Node=Nu;Cu.registerPostcss(At);var Dt=At;At.default=At;Dt.stringify;Dt.fromJSON;Dt.plugin;Dt.parse;Dt.list;Dt.document;Dt.comment;Dt.atRule;Dt.rule;Dt.decl;Dt.root;Dt.CssSyntaxError;Dt.Declaration;Dt.Container;Dt.Processor;Dt.Document;Dt.Comment;Dt.Warning;Dt.AtRule;Dt.Result;Dt.Input;Dt.Rule;Dt.Root;Dt.Node;function Uu(o){let t,e,r,n,i,s,a;return r=new wr({props:{size:"14"}}),{c(){t=X("span"),e=X("div"),dt(r.$$.fragment),n=rt(),i=X("div"),s=bt(o[0]),this.h()},l(l){t=K(l,"SPAN",{class:!0});var u=j(t);e=K(u,"DIV",{});var f=j(e);pt(r.$$.fragment,f),f.forEach($),n=nt(u),i=K(u,"DIV",{});var m=j(i);s=xt(m,o[0]),m.forEach($),u.forEach($),this.h()},h(){O(t,"class","flex flex-row items-center gap-1 pl-4 hover:bg-indigo-600")},m(l,u){q(l,t,u),D(t,e),mt(r,e,null),D(t,n),D(t,i),D(i,s),a=!0},p(l,[u]){(!a||u&1)&&Zt(s,l[0])},i(l){a||(st(r.$$.fragment,l),a=!0)},o(l){at(r.$$.fragment,l),a=!1},d(l){l&&$(t),gt(r)}}}function Lu(o,t,e){let{name:r}=t;return o.$$set=n=>{"name"in n&&e(0,r=n.name)},[r]}class us extends It{constructor(t){super(),Tt(this,t,Lu,Uu,Pt,{name:0})}}function ii(o,t,e){const r=o.slice();return r[5]=t[e],r}function si(o){let t,e,r=o[2],n=[];for(let s=0;s<r.length;s+=1)n[s]=oi(ii(o,r,s));const i=s=>at(n[s],1,1,()=>{n[s]=null});return{c(){t=X("ul");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){t=K(s,"UL",{class:!0});var a=j(t);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach($),this.h()},h(){O(t,"class","ml-5 border-l border-solid border-slate-100")},m(s,a){q(s,t,a);for(let l=0;l<n.length;l+=1)n[l].m(t,null);e=!0},p(s,a){if(a&4){r=s[2];let l;for(l=0;l<r.length;l+=1){const u=ii(s,r,l);n[l]?(n[l].p(u,a),st(n[l],1)):(n[l]=oi(u),n[l].c(),st(n[l],1),n[l].m(t,null))}for(Qt(),l=r.length;l<n.length;l+=1)i(l);te()}},i(s){if(!e){for(let a=0;a<r.length;a+=1)st(n[a]);e=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)at(n[a]);e=!1},d(s){s&&$(t),Ze(n,s)}}}function Fu(o){let t,e;const r=[o[5]];let n={};for(let i=0;i<r.length;i+=1)n=ci(n,r[i]);return t=new us({props:n}),{c(){dt(t.$$.fragment)},l(i){pt(t.$$.fragment,i)},m(i,s){mt(t,i,s),e=!0},p(i,s){const a=s&4?hi(r,[di(i[5])]):{};t.$set(a)},i(i){e||(st(t.$$.fragment,i),e=!0)},o(i){at(t.$$.fragment,i),e=!1},d(i){gt(t,i)}}}function ju(o){let t,e;const r=[o[5]];let n={};for(let i=0;i<r.length;i+=1)n=ci(n,r[i]);return t=new fs({props:n}),{c(){dt(t.$$.fragment)},l(i){pt(t.$$.fragment,i)},m(i,s){mt(t,i,s),e=!0},p(i,s){const a=s&4?hi(r,[di(i[5])]):{};t.$set(a)},i(i){e||(st(t.$$.fragment,i),e=!0)},o(i){at(t.$$.fragment,i),e=!1},d(i){gt(t,i)}}}function oi(o){let t,e,r,n,i;const s=[ju,Fu],a=[];function l(u,f){return u[5].tags&&u[5].tags.length>0?0:1}return e=l(o),r=a[e]=s[e](o),{c(){t=X("li"),r.c(),n=rt(),this.h()},l(u){t=K(u,"LI",{class:!0});var f=j(t);r.l(f),n=nt(f),f.forEach($),this.h()},h(){O(t,"class","py-0.5")},m(u,f){q(u,t,f),a[e].m(t,null),D(t,n),i=!0},p(u,f){let m=e;e=l(u),e===m?a[e].p(u,f):(Qt(),at(a[m],1,1,()=>{a[m]=null}),te(),r=a[e],r?r.p(u,f):(r=a[e]=s[e](u),r.c()),st(r,1),r.m(t,n))},i(u){i||(st(r),i=!0)},o(u){at(r),i=!1},d(u){u&&$(t),a[e].d()}}}function Mu(o){let t,e,r,n,i,s,a,l,u,f,m,w,d,g,h;r=new As({props:{size:"16"}}),a=new wr({props:{size:"14"}});let p=o[0]&&si(o);return{c(){t=X("span"),e=X("span"),dt(r.$$.fragment),i=rt(),s=X("span"),dt(a.$$.fragment),l=rt(),u=X("span"),f=bt(o[1]),m=rt(),p&&p.c(),w=dr(),this.h()},l(y){t=K(y,"SPAN",{class:!0});var v=j(t);e=K(v,"SPAN",{style:!0,class:!0});var b=j(e);pt(r.$$.fragment,b),b.forEach($),i=nt(v),s=K(v,"SPAN",{});var x=j(s);pt(a.$$.fragment,x),x.forEach($),l=nt(v),u=K(v,"SPAN",{});var C=j(u);f=xt(C,o[1]),C.forEach($),v.forEach($),m=nt(y),p&&p.l(y),w=dr(),this.h()},h(){O(e,"style",n=o[0]?"transform:rotate(90deg)":""),O(e,"class","origin-center"),O(t,"class","flex flex-row items-center pl-4 font-bold cursor-pointer hover:bg-indigo-600"),jt(t,"expanded",o[0])},m(y,v){q(y,t,v),D(t,e),mt(r,e,null),D(t,i),D(t,s),mt(a,s,null),D(t,l),D(t,u),D(u,f),q(y,m,v),p&&p.m(y,v),q(y,w,v),d=!0,g||(h=[Ct(t,"click",o[3]),Ct(t,"keydown",o[4])],g=!0)},p(y,[v]){(!d||v&1&&n!==(n=y[0]?"transform:rotate(90deg)":""))&&O(e,"style",n),(!d||v&2)&&Zt(f,y[1]),(!d||v&1)&&jt(t,"expanded",y[0]),y[0]?p?(p.p(y,v),v&1&&st(p,1)):(p=si(y),p.c(),st(p,1),p.m(w.parentNode,w)):p&&(Qt(),at(p,1,1,()=>{p=null}),te())},i(y){d||(st(r.$$.fragment,y),st(a.$$.fragment,y),st(p),d=!0)},o(y){at(r.$$.fragment,y),at(a.$$.fragment,y),at(p),d=!1},d(y){y&&$(t),gt(r),gt(a),y&&$(m),p&&p.d(y),y&&$(w),g=!1,de(h)}}}function Wu(o,t,e){let{expanded:r=!0}=t,{name:n}=t,{tags:i}=t;function s(){e(0,r=!r)}const a=l=>{console.log("hit key on tag folder")};return o.$$set=l=>{"expanded"in l&&e(0,r=l.expanded),"name"in l&&e(1,n=l.name),"tags"in l&&e(2,i=l.tags)},[r,n,i,s,a]}class fs extends It{constructor(t){super(),Tt(this,t,Wu,Mu,Pt,{expanded:0,name:1,tags:2})}}function ai(o,t,e){const r=o.slice();return r[3]=t[e],r}function li(o){let t,e,r,n,i,s,a,l,u,f;return e=new wr({props:{size:14}}),{c(){t=X("li"),dt(e.$$.fragment),r=rt(),n=X("input"),i=rt(),s=X("button"),a=bt("+"),this.h()},l(m){t=K(m,"LI",{class:!0});var w=j(t);pt(e.$$.fragment,w),r=nt(w),n=K(w,"INPUT",{type:!0,name:!0,class:!0}),i=nt(w),s=K(w,"BUTTON",{});var d=j(s);a=xt(d,"+"),d.forEach($),w.forEach($),this.h()},h(){O(n,"type","text"),O(n,"name","tag"),O(n,"class","w-full outline-none bg-transparent"),O(t,"class","flex flex-row items-center gap-1 px-4")},m(m,w){q(m,t,w),mt(e,t,null),D(t,r),D(t,n),o[7](n),we(n,o[3]),D(t,i),D(t,s),D(s,a),l=!0,u||(f=[Ct(n,"input",o[8]),Ct(n,"keydown",o[4]),Ct(n,"focusout",o[9]),Ct(s,"click",o[5])],u=!0)},p(m,w){w&8&&n.value!==m[3]&&we(n,m[3])},i(m){l||(st(e.$$.fragment,m),l=!0)},o(m){at(e.$$.fragment,m),l=!1},d(m){m&&$(t),gt(e),o[7](null),u=!1,de(f)}}}function Hu(o){let t,e;return t=new us({props:{name:o[3].name}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,n){const i={};n&4&&(i.name=r[3].name),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function Zu(o){let t,e;return t=new fs({props:{name:o[3].name,tags:o[3].tags,expanded:!0}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p(r,n){const i={};n&4&&(i.name=r[3].name),n&4&&(i.tags=r[3].tags),t.$set(i)},i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function ui(o){let t,e,r,n,i;const s=[Zu,Hu],a=[];function l(u,f){return u[3].tags&&u[3].tags.length>0?0:1}return e=l(o),r=a[e]=s[e](o),{c(){t=X("li"),r.c(),n=rt()},l(u){t=K(u,"LI",{});var f=j(t);r.l(f),n=nt(f),f.forEach($)},m(u,f){q(u,t,f),a[e].m(t,null),D(t,n),i=!0},p(u,f){let m=e;e=l(u),e===m?a[e].p(u,f):(Qt(),at(a[m],1,1,()=>{a[m]=null}),te(),r=a[e],r?r.p(u,f):(r=a[e]=s[e](u),r.c()),st(r,1),r.m(t,n))},i(u){i||(st(r),i=!0)},o(u){at(r),i=!1},d(u){u&&$(t),a[e].d()}}}function Vu(o){let t,e,r,n,i,s,a,l,u,f,m,w,d;a=new vi({props:{size:20}});let g=o[0]&&li(o),h=o[2],p=[];for(let v=0;v<h.length;v+=1)p[v]=ui(ai(o,h,v));const y=v=>at(p[v],1,1,()=>{p[v]=null});return{c(){t=X("div"),e=X("div"),r=X("h3"),n=bt("Tags"),i=rt(),s=X("button"),dt(a.$$.fragment),l=rt(),u=X("ul"),g&&g.c(),f=rt();for(let v=0;v<p.length;v+=1)p[v].c();this.h()},l(v){t=K(v,"DIV",{class:!0});var b=j(t);e=K(b,"DIV",{class:!0});var x=j(e);r=K(x,"H3",{class:!0});var C=j(r);n=xt(C,"Tags"),C.forEach($),i=nt(x),s=K(x,"BUTTON",{title:!0});var B=j(s);pt(a.$$.fragment,B),B.forEach($),x.forEach($),l=nt(b),u=K(b,"UL",{});var z=j(u);g&&g.l(z),f=nt(z);for(let P=0;P<p.length;P+=1)p[P].l(z);z.forEach($),b.forEach($),this.h()},h(){O(r,"class","font-bold font-lg"),O(s,"title","Add new tag"),O(e,"class","flex flex-row justify-between px-4"),O(t,"class","w-64")},m(v,b){q(v,t,b),D(t,e),D(e,r),D(r,n),D(e,i),D(e,s),mt(a,s,null),D(t,l),D(t,u),g&&g.m(u,null),D(u,f);for(let x=0;x<p.length;x+=1)p[x].m(u,null);m=!0,w||(d=Ct(s,"click",o[6]),w=!0)},p(v,[b]){if(v[0]?g?(g.p(v,b),b&1&&st(g,1)):(g=li(v),g.c(),st(g,1),g.m(u,f)):g&&(Qt(),at(g,1,1,()=>{g=null}),te()),b&4){h=v[2];let x;for(x=0;x<h.length;x+=1){const C=ai(v,h,x);p[x]?(p[x].p(C,b),st(p[x],1)):(p[x]=ui(C),p[x].c(),st(p[x],1),p[x].m(u,null))}for(Qt(),x=h.length;x<p.length;x+=1)y(x);te()}},i(v){if(!m){st(a.$$.fragment,v),st(g);for(let b=0;b<h.length;b+=1)st(p[b]);m=!0}},o(v){at(a.$$.fragment,v),at(g),p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)at(p[b]);m=!1},d(v){v&&$(t),gt(a),g&&g.d(),Ze(p,v),w=!1,d()}}}function Gu(o,t,e){let r,n;Ot(o,pr,g=>e(2,r=g)),Ot(o,Ne,g=>e(10,n=g));let i=!1,s="",a;function l(g){g.key==="Enter"&&u()}async function u(){if(s!==""){const{data:g,error:h}=await qt.from("tags").insert({user_id:n==null?void 0:n.id,tag:s});if(h){console.error(h);return}Rt(pr,r=Ka(r,s.split("/").filter(p=>p)),r)}e(0,i=!1),e(3,s="")}const f=async()=>{e(0,i=!0),await vs,a.focus()};function m(g){fi[g?"unshift":"push"](()=>{a=g,e(1,a)})}function w(){s=this.value,e(3,s)}return[i,a,r,s,l,u,f,m,w,()=>{e(0,i=!1)}]}class qu extends It{constructor(t){super(),Tt(this,t,Gu,Vu,Pt,{})}}function Yu(o){let t,e,r,n,i,s,a,l,u,f,m,w,d,g,h,p,y,v,b,x,C,B,z,P,I,H,Q,E,R,_,A,W,F,ot,Z,lt,N,U,ft,it,J;return l=new Ns({}),h=new wr({}),B=new gi({}),R=new _i({}),ot=new qu({}),{c(){t=X("div"),e=X("h3"),r=bt("Views"),n=rt(),i=X("ul"),s=X("li"),a=X("button"),dt(l.$$.fragment),u=rt(),f=X("span"),m=bt("Notes"),w=rt(),d=X("li"),g=X("button"),dt(h.$$.fragment),p=rt(),y=X("span"),v=bt("Untaged"),b=rt(),x=X("li"),C=X("button"),dt(B.$$.fragment),z=rt(),P=X("span"),I=bt("Archived"),H=rt(),Q=X("li"),E=X("button"),dt(R.$$.fragment),_=rt(),A=X("span"),W=bt("Deleted"),F=rt(),dt(ot.$$.fragment),Z=rt(),lt=X("div"),N=X("button"),U=bt("< Back"),this.h()},l(ht){t=K(ht,"DIV",{class:!0});var kt=j(t);e=K(kt,"H3",{class:!0});var vt=j(e);r=xt(vt,"Views"),vt.forEach($),n=nt(kt),i=K(kt,"UL",{class:!0});var wt=j(i);s=K(wt,"LI",{class:!0});var Nt=j(s);a=K(Nt,"BUTTON",{class:!0});var Et=j(a);pt(l.$$.fragment,Et),u=nt(Et),f=K(Et,"SPAN",{class:!0});var Ft=j(f);m=xt(Ft,"Notes"),Ft.forEach($),Et.forEach($),Nt.forEach($),w=nt(wt),d=K(wt,"LI",{class:!0});var Lt=j(d);g=K(Lt,"BUTTON",{class:!0});var c=j(g);pt(h.$$.fragment,c),p=nt(c),y=K(c,"SPAN",{class:!0});var V=j(y);v=xt(V,"Untaged"),V.forEach($),c.forEach($),Lt.forEach($),b=nt(wt),x=K(wt,"LI",{class:!0});var M=j(x);C=K(M,"BUTTON",{class:!0});var S=j(C);pt(B.$$.fragment,S),z=nt(S),P=K(S,"SPAN",{class:!0});var k=j(P);I=xt(k,"Archived"),k.forEach($),S.forEach($),M.forEach($),H=nt(wt),Q=K(wt,"LI",{class:!0});var T=j(Q);E=K(T,"BUTTON",{class:!0});var G=j(E);pt(R.$$.fragment,G),_=nt(G),A=K(G,"SPAN",{class:!0});var Y=j(A);W=xt(Y,"Deleted"),Y.forEach($),G.forEach($),T.forEach($),wt.forEach($),F=nt(kt),pt(ot.$$.fragment,kt),Z=nt(kt),lt=K(kt,"DIV",{class:!0});var L=j(lt);N=K(L,"BUTTON",{});var tt=j(N);U=xt(tt,"< Back"),tt.forEach($),L.forEach($),kt.forEach($),this.h()},h(){O(e,"class","font-bold font-lg px-4 mb-2"),O(f,"class","svelte-z09a8q"),O(a,"class","w-full px-4 py-1 hover:bg-slate-400 svelte-z09a8q"),O(s,"class","svelte-z09a8q"),O(y,"class","svelte-z09a8q"),O(g,"class","w-full px-4 py-1 hover:bg-slate-400 svelte-z09a8q"),O(d,"class","svelte-z09a8q"),O(P,"class","svelte-z09a8q"),O(C,"class","w-full px-4 py-1 hover:bg-slate-400 svelte-z09a8q"),O(x,"class","svelte-z09a8q"),O(A,"class","svelte-z09a8q"),O(E,"class","w-full px-4 py-1 hover:bg-slate-400 svelte-z09a8q"),O(Q,"class","svelte-z09a8q"),O(i,"class","flex flex-col svelte-z09a8q"),O(lt,"class","md:hidden"),O(t,"class","h-full py-4")},m(ht,kt){q(ht,t,kt),D(t,e),D(e,r),D(t,n),D(t,i),D(i,s),D(s,a),mt(l,a,null),D(a,u),D(a,f),D(f,m),D(i,w),D(i,d),D(d,g),mt(h,g,null),D(g,p),D(g,y),D(y,v),D(i,b),D(i,x),D(x,C),mt(B,C,null),D(C,z),D(C,P),D(P,I),D(i,H),D(i,Q),D(Q,E),mt(R,E,null),D(E,_),D(E,A),D(A,W),D(t,F),mt(ot,t,null),D(t,Z),D(t,lt),D(lt,N),D(N,U),ft=!0,it||(J=Ct(N,"click",o[3]),it=!0)},p:zt,i(ht){ft||(st(l.$$.fragment,ht),st(h.$$.fragment,ht),st(B.$$.fragment,ht),st(R.$$.fragment,ht),st(ot.$$.fragment,ht),ft=!0)},o(ht){at(l.$$.fragment,ht),at(h.$$.fragment,ht),at(B.$$.fragment,ht),at(R.$$.fragment,ht),at(ot.$$.fragment,ht),ft=!1},d(ht){ht&&$(t),gt(l),gt(h),gt(B),gt(R),gt(ot),it=!1,J()}}}function Xu(o,t,e){let r,n,i;return Ot(o,fe,a=>e(0,r=a)),Ot(o,ue,a=>e(1,n=a)),Ot(o,ce,a=>e(2,i=a)),[r,n,i,()=>{Rt(fe,r=!0,r),Rt(ue,n=!1,n),Rt(ce,i=!1,i)}]}class Ku extends It{constructor(t){super(),Tt(this,t,Xu,Yu,Pt,{})}}function ur(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cs={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(o,t){(function(e){o.exports=e()})(function(){return function e(r,n,i){function s(u,f){if(!n[u]){if(!r[u]){var m=typeof ur=="function"&&ur;if(!f&&m)return m(u,!0);if(a)return a(u,!0);var w=new Error("Cannot find module '"+u+"'");throw w.code="MODULE_NOT_FOUND",w}var d=n[u]={exports:{}};r[u][0].call(d.exports,function(g){var h=r[u][1][g];return s(h||g)},d,d.exports,e,r,n,i)}return n[u].exports}for(var a=typeof ur=="function"&&ur,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(e,r,n){var i=e("./utils"),s=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var u,f,m,w,d,g,h,p=[],y=0,v=l.length,b=v,x=i.getTypeOf(l)!=="string";y<l.length;)b=v-y,m=x?(u=l[y++],f=y<v?l[y++]:0,y<v?l[y++]:0):(u=l.charCodeAt(y++),f=y<v?l.charCodeAt(y++):0,y<v?l.charCodeAt(y++):0),w=u>>2,d=(3&u)<<4|f>>4,g=1<b?(15&f)<<2|m>>6:64,h=2<b?63&m:64,p.push(a.charAt(w)+a.charAt(d)+a.charAt(g)+a.charAt(h));return p.join("")},n.decode=function(l){var u,f,m,w,d,g,h=0,p=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var v,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|b):new Array(0|b);h<l.length;)u=a.indexOf(l.charAt(h++))<<2|(w=a.indexOf(l.charAt(h++)))>>4,f=(15&w)<<4|(d=a.indexOf(l.charAt(h++)))>>2,m=(3&d)<<6|(g=a.indexOf(l.charAt(h++))),v[p++]=u,d!==64&&(v[p++]=f),g!==64&&(v[p++]=m);return v}},{"./support":30,"./utils":32}],2:[function(e,r,n){var i=e("./external"),s=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function u(f,m,w,d,g){this.compressedSize=f,this.uncompressedSize=m,this.crc32=w,this.compression=d,this.compressedContent=g}u.prototype={getContentWorker:function(){var f=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,m,w){return f.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(w)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,n){var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,n){var i=e("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,f,m,w){var d=s,g=w+m;u^=-1;for(var h=w;h<g;h++)u=u>>>8^d[255&(u^f[h])];return-1^u}(0|l,a,a.length,0):function(u,f,m,w){var d=s,g=w+m;u^=-1;for(var h=w;h<g;h++)u=u>>>8^d[255&(u^f.charCodeAt(h))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(e,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,r,n){var i=null;i=typeof Promise<"u"?Promise:e("lie"),r.exports={Promise:i}},{lie:37}],7:[function(e,r,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=e("pako"),a=e("./utils"),l=e("./stream/GenericWorker"),u=i?"uint8array":"array";function f(m,w){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=w,this.meta={}}n.magic="\b\0",a.inherits(f,l),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(w){m.push({data:w,meta:m.meta})}},n.compressWorker=function(m){return new f("Deflate",m)},n.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,n){function i(d,g){var h,p="";for(h=0;h<g;h++)p+=String.fromCharCode(255&d),d>>>=8;return p}function s(d,g,h,p,y,v){var b,x,C=d.file,B=d.compression,z=v!==u.utf8encode,P=a.transformTo("string",v(C.name)),I=a.transformTo("string",u.utf8encode(C.name)),H=C.comment,Q=a.transformTo("string",v(H)),E=a.transformTo("string",u.utf8encode(H)),R=I.length!==C.name.length,_=E.length!==H.length,A="",W="",F="",ot=C.dir,Z=C.date,lt={crc32:0,compressedSize:0,uncompressedSize:0};g&&!h||(lt.crc32=d.crc32,lt.compressedSize=d.compressedSize,lt.uncompressedSize=d.uncompressedSize);var N=0;g&&(N|=8),z||!R&&!_||(N|=2048);var U=0,ft=0;ot&&(U|=16),y==="UNIX"?(ft=798,U|=function(J,ht){var kt=J;return J||(kt=ht?16893:33204),(65535&kt)<<16}(C.unixPermissions,ot)):(ft=20,U|=function(J){return 63&(J||0)}(C.dosPermissions)),b=Z.getUTCHours(),b<<=6,b|=Z.getUTCMinutes(),b<<=5,b|=Z.getUTCSeconds()/2,x=Z.getUTCFullYear()-1980,x<<=4,x|=Z.getUTCMonth()+1,x<<=5,x|=Z.getUTCDate(),R&&(W=i(1,1)+i(f(P),4)+I,A+="up"+i(W.length,2)+W),_&&(F=i(1,1)+i(f(Q),4)+E,A+="uc"+i(F.length,2)+F);var it="";return it+=`
\0`,it+=i(N,2),it+=B.magic,it+=i(b,2),it+=i(x,2),it+=i(lt.crc32,4),it+=i(lt.compressedSize,4),it+=i(lt.uncompressedSize,4),it+=i(P.length,2),it+=i(A.length,2),{fileRecord:m.LOCAL_FILE_HEADER+it+P+A,dirRecord:m.CENTRAL_FILE_HEADER+i(ft,2)+it+i(Q.length,2)+"\0\0\0\0"+i(U,4)+i(p,4)+P+A+Q}}var a=e("../utils"),l=e("../stream/GenericWorker"),u=e("../utf8"),f=e("../crc32"),m=e("../signature");function w(d,g,h,p){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=h,this.encodeFileName=p,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(w,l),w.prototype.push=function(d){var g=d.meta.percent||0,h=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(g+100*(h-p-1))/h:100}}))},w.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var g=this.streamFiles&&!d.file.dir;if(g){var h=s(d,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(d){this.accumulate=!1;var g=this.streamFiles&&!d.file.dir,h=s(d,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),g)this.push({data:function(p){return m.DATA_DESCRIPTOR+i(p.crc32,4)+i(p.compressedSize,4)+i(p.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var d=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var h=this.bytesWritten-d,p=function(y,v,b,x,C){var B=a.transformTo("string",C(x));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(v,4)+i(b,4)+i(B.length,2)+B}(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(d){this._sources.push(d);var g=this;return d.on("data",function(h){g.processChunk(h)}),d.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),d.on("error",function(h){g.error(h)}),this},w.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(d){var g=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var h=0;h<g.length;h++)try{g[h].error(d)}catch{}return!0},w.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,g=0;g<d.length;g++)d[g].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,n){var i=e("../compressions"),s=e("./ZipFileWorker");n.generateWorker=function(a,l,u){var f=new s(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{a.forEach(function(w,d){m++;var g=function(v,b){var x=v||b,C=i[x];if(!C)throw new Error(x+" is not a valid compression method !");return C}(d.options.compression,l.compression),h=d.options.compressionOptions||l.compressionOptions||{},p=d.dir,y=d.date;d._compressWorker(g,h).withStreamInfo("file",{name:w,dir:p,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(w){f.error(w)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(s,a){return new i().loadAsync(s,a)},i.external=e("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,n){var i=e("./utils"),s=e("./external"),a=e("./utf8"),l=e("./zipEntries"),u=e("./stream/Crc32Probe"),f=e("./nodejsUtils");function m(w){return new s.Promise(function(d,g){var h=w.decompressed.getContentWorker().pipe(new u);h.on("error",function(p){g(p)}).on("end",function(){h.streamInfo.crc32!==w.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}r.exports=function(w,d){var g=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(w)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",w,!0,d.optimizedBinaryString,d.base64).then(function(h){var p=new l(d);return p.load(h),p}).then(function(h){var p=[s.Promise.resolve(h)],y=h.files;if(d.checkCRC32)for(var v=0;v<y.length;v++)p.push(m(y[v]));return s.Promise.all(p)}).then(function(h){for(var p=h.shift(),y=p.files,v=0;v<y.length;v++){var b=y[v],x=b.fileNameStr,C=i.resolve(b.fileNameStr);g.file(C,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:d.createFolders}),b.dir||(g.file(C).unsafeOriginalName=x)}return p.zipComment.length&&(g.comment=p.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,n){var i=e("../utils"),s=e("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,n){var i=e("readable-stream").Readable;function s(a,l,u){i.call(this,l),this._helper=a;var f=this;a.on("data",function(m,w){f.push(m)||f._helper.pause(),u&&u(w)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}e("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(e,r,n){function i(C,B,z){var P,I=a.getTypeOf(B),H=a.extend(z||{},f);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(C=y(C)),H.createFolders&&(P=p(C))&&v.call(this,P,!0);var Q=I==="string"&&H.binary===!1&&H.base64===!1;z&&z.binary!==void 0||(H.binary=!Q),(B instanceof m&&B.uncompressedSize===0||H.dir||!B||B.length===0)&&(H.base64=!1,H.binary=!0,B="",H.compression="STORE",I="string");var E=null;E=B instanceof m||B instanceof l?B:g.isNode&&g.isStream(B)?new h(C,B):a.prepareContent(C,B,H.binary,H.optimizedBinaryString,H.base64);var R=new w(C,E,H);this.files[C]=R}var s=e("./utf8"),a=e("./utils"),l=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),f=e("./defaults"),m=e("./compressedObject"),w=e("./zipObject"),d=e("./generate"),g=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var B=C.lastIndexOf("/");return 0<B?C.substring(0,B):""},y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,B){return B=B!==void 0?B:f.createFolders,C=y(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:B}),this.files[C]};function b(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var B,z,P;for(B in this.files)P=this.files[B],(z=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&C(z,P)},filter:function(C){var B=[];return this.forEach(function(z,P){C(z,P)&&B.push(P)}),B},file:function(C,B,z){if(arguments.length!==1)return C=this.root+C,i.call(this,C,B,z),this;if(b(C)){var P=C;return this.filter(function(H,Q){return!Q.dir&&P.test(H)})}var I=this.files[this.root+C];return I&&!I.dir?I:null},folder:function(C){if(!C)return this;if(b(C))return this.filter(function(I,H){return H.dir&&C.test(I)});var B=this.root+C,z=v.call(this,B),P=this.clone();return P.root=z.name,P},remove:function(C){C=this.root+C;var B=this.files[C];if(B||(C.slice(-1)!=="/"&&(C+="/"),B=this.files[C]),B&&!B.dir)delete this.files[C];else for(var z=this.filter(function(I,H){return H.name.slice(0,C.length)===C}),P=0;P<z.length;P++)delete this.files[z[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var B,z={};try{if((z=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");a.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var P=z.comment||this.comment||"";B=d.generateWorker(this,z,P)}catch(I){(B=new l("error")).error(I)}return new u(B,z.type||"string",z.mimeType)},generateAsync:function(C,B){return this.generateInternalStream(C).accumulate(B)},generateNodeStream:function(C,B){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(B)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,n){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,n){var i=e("./DataReader");function s(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}e("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),m=a.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===l&&this.data[w+1]===u&&this.data[w+2]===f&&this.data[w+3]===m)return w-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),m=a.charCodeAt(3),w=this.readData(4);return l===w[0]&&u===w[1]&&f===w[2]&&m===w[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,r,n){var i=e("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(e,r,n){var i=e("./Uint8ArrayReader");function s(a){i.call(this,a)}e("../utils").inherits(s,i),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,n){var i=e("./DataReader");function s(a){i.call(this,a)}e("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,r,n){var i=e("./ArrayReader");function s(a){i.call(this,a)}e("../utils").inherits(s,i),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,n){var i=e("../utils"),s=e("../support"),a=e("./ArrayReader"),l=e("./StringReader"),u=e("./NodeBufferReader"),f=e("./Uint8ArrayReader");r.exports=function(m){var w=i.getTypeOf(m);return i.checkSupport(w),w!=="string"||s.uint8array?w==="nodebuffer"?new u(m):s.uint8array?new f(i.transformTo("uint8array",m)):new a(i.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,n){var i=e("./GenericWorker"),s=e("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,n){var i=e("./GenericWorker"),s=e("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,n){var i=e("../utils"),s=e("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,n){var i=e("../utils"),s=e("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=i.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,n){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(e,r,n){var i=e("../utils"),s=e("./ConvertWorker"),a=e("./GenericWorker"),l=e("../base64"),u=e("../support"),f=e("../external"),m=null;if(u.nodestream)try{m=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(g,h){return new f.Promise(function(p,y){var v=[],b=g._internalType,x=g._outputType,C=g._mimeType;g.on("data",function(B,z){v.push(B),h&&h(z)}).on("error",function(B){v=[],y(B)}).on("end",function(){try{var B=function(z,P,I){switch(z){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),I);case"base64":return l.encode(P);default:return i.transformTo(z,P)}}(x,function(z,P){var I,H=0,Q=null,E=0;for(I=0;I<P.length;I++)E+=P[I].length;switch(z){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(Q=new Uint8Array(E),I=0;I<P.length;I++)Q.set(P[I],H),H+=P[I].length;return Q;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+z+"'")}}(b,v),C);p(B)}catch(z){y(z)}v=[]}).resume()})}function d(g,h,p){var y=h;switch(h){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=h,this._mimeType=p,i.checkSupport(y),this._worker=g.pipe(new s(y)),g.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}d.prototype={accumulate:function(g){return w(this,g)},on:function(g,h){var p=this;return g==="data"?this._worker.on(g,function(y){h.call(p,y.data,y.meta)}):this._worker.on(g,function(){i.delay(h,arguments,p)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),n.blob=s.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,n){for(var i=e("./utils"),s=e("./support"),a=e("./nodejsUtils"),l=e("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function w(){l.call(this,"utf-8 encode")}n.utf8encode=function(d){return s.nodebuffer?a.newBufferFrom(d,"utf-8"):function(g){var h,p,y,v,b,x=g.length,C=0;for(v=0;v<x;v++)(64512&(p=g.charCodeAt(v)))==55296&&v+1<x&&(64512&(y=g.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),v++),C+=p<128?1:p<2048?2:p<65536?3:4;for(h=s.uint8array?new Uint8Array(C):new Array(C),v=b=0;b<C;v++)(64512&(p=g.charCodeAt(v)))==55296&&v+1<x&&(64512&(y=g.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),v++),p<128?h[b++]=p:(p<2048?h[b++]=192|p>>>6:(p<65536?h[b++]=224|p>>>12:(h[b++]=240|p>>>18,h[b++]=128|p>>>12&63),h[b++]=128|p>>>6&63),h[b++]=128|63&p);return h}(d)},n.utf8decode=function(d){return s.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(g){var h,p,y,v,b=g.length,x=new Array(2*b);for(h=p=0;h<b;)if((y=g[h++])<128)x[p++]=y;else if(4<(v=u[y]))x[p++]=65533,h+=v-1;else{for(y&=v===2?31:v===3?15:7;1<v&&h<b;)y=y<<6|63&g[h++],v--;1<v?x[p++]=65533:y<65536?x[p++]=y:(y-=65536,x[p++]=55296|y>>10&1023,x[p++]=56320|1023&y)}return x.length!==p&&(x.subarray?x=x.subarray(0,p):x.length=p),i.applyFromCharCode(x)}(d=i.transformTo(s.uint8array?"uint8array":"array",d))},i.inherits(m,l),m.prototype.processChunk=function(d){var g=i.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var h=g;(g=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),g.set(h,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var p=function(v,b){var x;for((b=b||v.length)>v.length&&(b=v.length),x=b-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?b:x+u[v[x]]>b?x:b}(g),y=g;p!==g.length&&(s.uint8array?(y=g.subarray(0,p),this.leftOver=g.subarray(p,g.length)):(y=g.slice(0,p),this.leftOver=g.slice(p,g.length))),this.push({data:n.utf8decode(y),meta:d.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=m,i.inherits(w,l),w.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,n){var i=e("./support"),s=e("./base64"),a=e("./nodejsUtils"),l=e("./external");function u(h){return h}function f(h,p){for(var y=0;y<h.length;++y)p[y]=255&h.charCodeAt(y);return p}e("setimmediate"),n.newBlob=function(h,p){n.checkSupport("blob");try{return new Blob([h],{type:p})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(h),y.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(h,p,y){var v=[],b=0,x=h.length;if(x<=y)return String.fromCharCode.apply(null,h);for(;b<x;)p==="array"||p==="nodebuffer"?v.push(String.fromCharCode.apply(null,h.slice(b,Math.min(b+y,x)))):v.push(String.fromCharCode.apply(null,h.subarray(b,Math.min(b+y,x)))),b+=y;return v.join("")},stringifyByChar:function(h){for(var p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);return p},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function w(h){var p=65536,y=n.getTypeOf(h),v=!0;if(y==="uint8array"?v=m.applyCanBeUsed.uint8array:y==="nodebuffer"&&(v=m.applyCanBeUsed.nodebuffer),v)for(;1<p;)try{return m.stringifyByChunk(h,y,p)}catch{p=Math.floor(p/2)}return m.stringifyByChar(h)}function d(h,p){for(var y=0;y<h.length;y++)p[y]=h[y];return p}n.applyFromCharCode=w;var g={};g.string={string:u,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return g.string.uint8array(h).buffer},uint8array:function(h){return f(h,new Uint8Array(h.length))},nodebuffer:function(h){return f(h,a.allocBuffer(h.length))}},g.array={string:w,array:u,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(h)}},g.arraybuffer={string:function(h){return w(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:u,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(new Uint8Array(h))}},g.uint8array={string:w,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:u,nodebuffer:function(h){return a.newBufferFrom(h)}},g.nodebuffer={string:w,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return g.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:u},n.transformTo=function(h,p){if(p=p||"",!h)return p;n.checkSupport(h);var y=n.getTypeOf(p);return g[y][h](p)},n.resolve=function(h){for(var p=h.split("/"),y=[],v=0;v<p.length;v++){var b=p[v];b==="."||b===""&&v!==0&&v!==p.length-1||(b===".."?y.pop():y.push(b))}return y.join("/")},n.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(h){var p,y,v="";for(y=0;y<(h||"").length;y++)v+="\\x"+((p=h.charCodeAt(y))<16?"0":"")+p.toString(16).toUpperCase();return v},n.delay=function(h,p,y){setImmediate(function(){h.apply(y||null,p||[])})},n.inherits=function(h,p){function y(){}y.prototype=p.prototype,h.prototype=new y},n.extend=function(){var h,p,y={};for(h=0;h<arguments.length;h++)for(p in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],p)&&y[p]===void 0&&(y[p]=arguments[h][p]);return y},n.prepareContent=function(h,p,y,v,b){return l.Promise.resolve(p).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,B){var z=new FileReader;z.onload=function(P){C(P.target.result)},z.onerror=function(P){B(P.target.error)},z.readAsArrayBuffer(x)}):x}).then(function(x){var C=n.getTypeOf(x);return C?(C==="arraybuffer"?x=n.transformTo("uint8array",x):C==="string"&&(b?x=s.decode(x):y&&v!==!0&&(x=function(B){return f(B,i.uint8array?new Uint8Array(B.length):new Array(B.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,n){var i=e("./reader/readerFor"),s=e("./utils"),a=e("./signature"),l=e("./zipEntry"),u=e("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(w)+", expected "+s.pretty(m)+")")}},isSignature:function(m,w){var d=this.reader.index;this.reader.setIndex(m);var g=this.reader.readString(4)===w;return this.reader.setIndex(d),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),w=u.uint8array?"uint8array":"array",d=s.transformTo(w,m);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,w,d,g=this.zip64EndOfCentralSize-44;0<g;)m=this.reader.readInt(2),w=this.reader.readInt(4),d=this.reader.readData(w),this.zip64ExtensibleData[m]={id:m,length:w,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,w;for(m=0;m<this.files.length;m++)w=this.files[m],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var w=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var g=w-d;if(0<g)this.isSignature(w,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(m){this.reader=i(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,n){var i=e("./reader/readerFor"),s=e("./utils"),a=e("./compressedObject"),l=e("./crc32"),u=e("./utf8"),f=e("./compressions"),m=e("./support");function w(d,g){this.options=d,this.loadOptions=g}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var g,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(p){for(var y in f)if(Object.prototype.hasOwnProperty.call(f,y)&&f[y].magic===p)return f[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var g=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(g),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var g,h,p,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)g=d.readInt(2),h=d.readInt(2),p=d.readData(h),this.extraFields[g]={id:g,length:h,value:p};d.setIndex(y)},handleUTF8:function(){var d=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var h=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var y=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var g=i(d.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var g=i(d.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(d.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,n){function i(g,h,p){this.name=g,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=h,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var s=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),l=e("./utf8"),u=e("./compressedObject"),f=e("./stream/GenericWorker");i.prototype={internalStream:function(g){var h=null,p="string";try{if(!g)throw new Error("No output type specified.");var y=(p=g.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),h=this._decompressWorker();var v=!this._dataBinary;v&&!y&&(h=h.pipe(new l.Utf8EncodeWorker)),!v&&y&&(h=h.pipe(new l.Utf8DecodeWorker))}catch(b){(h=new f("error")).error(b)}return new s(h,p,"")},async:function(g,h){return this.internalStream(g).accumulate(h)},nodeStream:function(g,h){return this.internalStream(g||"nodebuffer").toNodejsStream(h)},_compressWorker:function(g,h){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(p,g,h)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<m.length;d++)i.prototype[m[d]]=w;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,n){(function(i){var s,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,f=new l(g),m=i.document.createTextNode("");f.observe(m,{characterData:!0}),s=function(){m.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){g(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(g,0)};else{var w=new i.MessageChannel;w.port1.onmessage=g,s=function(){w.port2.postMessage(0)}}var d=[];function g(){var h,p;a=!0;for(var y=d.length;y;){for(p=d,d=[],h=-1;++h<y;)p[h]();y=d.length}a=!1}r.exports=function(h){d.push(h)!==1||a||s()}}).call(this,typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,n){var i=e("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function m(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,y!==s&&h(this,y)}function w(y,v,b){this.promise=y,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function d(y,v,b){i(function(){var x;try{x=v(b)}catch(C){return a.reject(y,C)}x===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,x)})}function g(y){var v=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof v=="function")return function(){v.apply(y,arguments)}}function h(y,v){var b=!1;function x(z){b||(b=!0,a.reject(y,z))}function C(z){b||(b=!0,a.resolve(y,z))}var B=p(function(){v(C,x)});B.status==="error"&&x(B.value)}function p(y,v){var b={};try{b.value=y(v),b.status="success"}catch(x){b.status="error",b.value=x}return b}(r.exports=m).prototype.finally=function(y){if(typeof y!="function")return this;var v=this.constructor;return this.then(function(b){return v.resolve(y()).then(function(){return b})},function(b){return v.resolve(y()).then(function(){throw b})})},m.prototype.catch=function(y){return this.then(null,y)},m.prototype.then=function(y,v){if(typeof y!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var b=new this.constructor(s);return this.state!==f?d(b,this.state===u?y:v,this.outcome):this.queue.push(new w(b,y,v)),b},w.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},w.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},w.prototype.callRejected=function(y){a.reject(this.promise,y)},w.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},a.resolve=function(y,v){var b=p(g,v);if(b.status==="error")return a.reject(y,b.value);var x=b.value;if(x)h(y,x);else{y.state=u,y.outcome=v;for(var C=-1,B=y.queue.length;++C<B;)y.queue[C].callFulfilled(v)}return y},a.reject=function(y,v){y.state=l,y.outcome=v;for(var b=-1,x=y.queue.length;++b<x;)y.queue[b].callRejected(v);return y},m.resolve=function(y){return y instanceof this?y:a.resolve(new this(s),y)},m.reject=function(y){var v=new this(s);return a.reject(v,y)},m.all=function(y){var v=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,x=!1;if(!b)return this.resolve([]);for(var C=new Array(b),B=0,z=-1,P=new this(s);++z<b;)I(y[z],z);return P;function I(H,Q){v.resolve(H).then(function(E){C[Q]=E,++B!==b||x||(x=!0,a.resolve(P,C))},function(E){x||(x=!0,a.reject(P,E))})}},m.race=function(y){var v=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,x=!1;if(!b)return this.resolve([]);for(var C=-1,B=new this(s);++C<b;)z=y[C],v.resolve(z).then(function(P){x||(x=!0,a.resolve(B,P))},function(P){x||(x=!0,a.reject(B,P))});var z;return B}},{immediate:36}],38:[function(e,r,n){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,n){var i=e("./zlib/deflate"),s=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/messages"),u=e("./zlib/zstream"),f=Object.prototype.toString,m=0,w=-1,d=0,g=8;function h(y){if(!(this instanceof h))return new h(y);this.options=s.assign({level:w,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(b!==m)throw new Error(l[b]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var x;if(x=typeof v.dictionary=="string"?a.string2buf(v.dictionary):f.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(b=i.deflateSetDictionary(this.strm,x))!==m)throw new Error(l[b]);this._dict_set=!0}}function p(y,v){var b=new h(v);if(b.push(y,!0),b.err)throw b.msg||l[b.err];return b.result}h.prototype.push=function(y,v){var b,x,C=this.strm,B=this.options.chunkSize;if(this.ended)return!1;x=v===~~v?v:v===!0?4:0,typeof y=="string"?C.input=a.string2buf(y):f.call(y)==="[object ArrayBuffer]"?C.input=new Uint8Array(y):C.input=y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(B),C.next_out=0,C.avail_out=B),(b=i.deflate(C,x))!==1&&b!==m)return this.onEnd(b),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&b!==1);return x===4?(b=i.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===m):x!==2||(this.onEnd(m),!(C.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(y,v){return(v=v||{}).raw=!0,p(y,v)},n.gzip=function(y,v){return(v=v||{}).gzip=!0,p(y,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,n){var i=e("./zlib/inflate"),s=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/constants"),u=e("./zlib/messages"),f=e("./zlib/zstream"),m=e("./zlib/gzheader"),w=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},h||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||h&&h.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,p.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function g(h,p){var y=new d(p);if(y.push(h,!0),y.err)throw y.msg||u[y.err];return y.result}d.prototype.push=function(h,p){var y,v,b,x,C,B,z=this.strm,P=this.options.chunkSize,I=this.options.dictionary,H=!1;if(this.ended)return!1;v=p===~~p?p:p===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof h=="string"?z.input=a.binstring2buf(h):w.call(h)==="[object ArrayBuffer]"?z.input=new Uint8Array(h):z.input=h,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new s.Buf8(P),z.next_out=0,z.avail_out=P),(y=i.inflate(z,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(B=typeof I=="string"?a.string2buf(I):w.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=i.inflateSetDictionary(this.strm,B)),y===l.Z_BUF_ERROR&&H===!0&&(y=l.Z_OK,H=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&y!==l.Z_STREAM_END&&(z.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(z.output,z.next_out),x=z.next_out-b,C=a.buf2string(z.output,b),z.next_out=x,z.avail_out=P-x,x&&s.arraySet(z.output,z.output,b,x,0),this.onData(C)):this.onData(s.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(H=!0)}while((0<z.avail_in||z.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(z.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},n.Inflate=d,n.inflate=g,n.inflateRaw=function(h,p){return(p=p||{}).raw=!0,g(h,p)},n.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(l[m]=f[m])}}return l},n.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,f,m,w){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+m),w);else for(var d=0;d<m;d++)l[w+d]=u[f+d]},flattenChunks:function(l){var u,f,m,w,d,g;for(u=m=0,f=l.length;u<f;u++)m+=l[u].length;for(g=new Uint8Array(m),u=w=0,f=l.length;u<f;u++)d=l[u],g.set(d,w),w+=d.length;return g}},a={arraySet:function(l,u,f,m,w){for(var d=0;d<m;d++)l[w+d]=u[f+d]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(e,r,n){var i=e("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(m,w){if(w<65537&&(m.subarray&&a||!m.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(m,w));for(var d="",g=0;g<w;g++)d+=String.fromCharCode(m[g]);return d}l[254]=l[254]=1,n.string2buf=function(m){var w,d,g,h,p,y=m.length,v=0;for(h=0;h<y;h++)(64512&(d=m.charCodeAt(h)))==55296&&h+1<y&&(64512&(g=m.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),h++),v+=d<128?1:d<2048?2:d<65536?3:4;for(w=new i.Buf8(v),h=p=0;p<v;h++)(64512&(d=m.charCodeAt(h)))==55296&&h+1<y&&(64512&(g=m.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),h++),d<128?w[p++]=d:(d<2048?w[p++]=192|d>>>6:(d<65536?w[p++]=224|d>>>12:(w[p++]=240|d>>>18,w[p++]=128|d>>>12&63),w[p++]=128|d>>>6&63),w[p++]=128|63&d);return w},n.buf2binstring=function(m){return f(m,m.length)},n.binstring2buf=function(m){for(var w=new i.Buf8(m.length),d=0,g=w.length;d<g;d++)w[d]=m.charCodeAt(d);return w},n.buf2string=function(m,w){var d,g,h,p,y=w||m.length,v=new Array(2*y);for(d=g=0;d<y;)if((h=m[d++])<128)v[g++]=h;else if(4<(p=l[h]))v[g++]=65533,d+=p-1;else{for(h&=p===2?31:p===3?15:7;1<p&&d<y;)h=h<<6|63&m[d++],p--;1<p?v[g++]=65533:h<65536?v[g++]=h:(h-=65536,v[g++]=55296|h>>10&1023,v[g++]=56320|1023&h)}return f(v,g)},n.utf8border=function(m,w){var d;for((w=w||m.length)>m.length&&(w=m.length),d=w-1;0<=d&&(192&m[d])==128;)d--;return d<0||d===0?w:d+l[m[d]]>w?d:w}},{"./common":41}],43:[function(e,r,n){r.exports=function(i,s,a,l){for(var u=65535&i|0,f=i>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;f=f+(u=u+s[l++]|0)|0,--m;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(e,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,n){var i=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,u){var f=i,m=u+l;s^=-1;for(var w=u;w<m;w++)s=s>>>8^f[255&(s^a[w])];return-1^s}},{}],46:[function(e,r,n){var i,s=e("../utils/common"),a=e("./trees"),l=e("./adler32"),u=e("./crc32"),f=e("./messages"),m=0,w=4,d=0,g=-2,h=-1,p=4,y=2,v=8,b=9,x=286,C=30,B=19,z=2*x+1,P=15,I=3,H=258,Q=H+I+1,E=42,R=113,_=1,A=2,W=3,F=4;function ot(c,V){return c.msg=f[V],V}function Z(c){return(c<<1)-(4<c?9:0)}function lt(c){for(var V=c.length;0<=--V;)c[V]=0}function N(c){var V=c.state,M=V.pending;M>c.avail_out&&(M=c.avail_out),M!==0&&(s.arraySet(c.output,V.pending_buf,V.pending_out,M,c.next_out),c.next_out+=M,V.pending_out+=M,c.total_out+=M,c.avail_out-=M,V.pending-=M,V.pending===0&&(V.pending_out=0))}function U(c,V){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,V),c.block_start=c.strstart,N(c.strm)}function ft(c,V){c.pending_buf[c.pending++]=V}function it(c,V){c.pending_buf[c.pending++]=V>>>8&255,c.pending_buf[c.pending++]=255&V}function J(c,V){var M,S,k=c.max_chain_length,T=c.strstart,G=c.prev_length,Y=c.nice_match,L=c.strstart>c.w_size-Q?c.strstart-(c.w_size-Q):0,tt=c.window,ut=c.w_mask,et=c.prev,ct=c.strstart+H,St=tt[T+G-1],$t=tt[T+G];c.prev_length>=c.good_match&&(k>>=2),Y>c.lookahead&&(Y=c.lookahead);do if(tt[(M=V)+G]===$t&&tt[M+G-1]===St&&tt[M]===tt[T]&&tt[++M]===tt[T+1]){T+=2,M++;do;while(tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&tt[++T]===tt[++M]&&T<ct);if(S=H-(ct-T),T=ct-H,G<S){if(c.match_start=V,Y<=(G=S))break;St=tt[T+G-1],$t=tt[T+G]}}while((V=et[V&ut])>L&&--k!=0);return G<=c.lookahead?G:c.lookahead}function ht(c){var V,M,S,k,T,G,Y,L,tt,ut,et=c.w_size;do{if(k=c.window_size-c.lookahead-c.strstart,c.strstart>=et+(et-Q)){for(s.arraySet(c.window,c.window,et,et,0),c.match_start-=et,c.strstart-=et,c.block_start-=et,V=M=c.hash_size;S=c.head[--V],c.head[V]=et<=S?S-et:0,--M;);for(V=M=et;S=c.prev[--V],c.prev[V]=et<=S?S-et:0,--M;);k+=et}if(c.strm.avail_in===0)break;if(G=c.strm,Y=c.window,L=c.strstart+c.lookahead,tt=k,ut=void 0,ut=G.avail_in,tt<ut&&(ut=tt),M=ut===0?0:(G.avail_in-=ut,s.arraySet(Y,G.input,G.next_in,ut,L),G.state.wrap===1?G.adler=l(G.adler,Y,ut,L):G.state.wrap===2&&(G.adler=u(G.adler,Y,ut,L)),G.next_in+=ut,G.total_in+=ut,ut),c.lookahead+=M,c.lookahead+c.insert>=I)for(T=c.strstart-c.insert,c.ins_h=c.window[T],c.ins_h=(c.ins_h<<c.hash_shift^c.window[T+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[T+I-1])&c.hash_mask,c.prev[T&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=T,T++,c.insert--,!(c.lookahead+c.insert<I)););}while(c.lookahead<Q&&c.strm.avail_in!==0)}function kt(c,V){for(var M,S;;){if(c.lookahead<Q){if(ht(c),c.lookahead<Q&&V===m)return _;if(c.lookahead===0)break}if(M=0,c.lookahead>=I&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),M!==0&&c.strstart-M<=c.w_size-Q&&(c.match_length=J(c,M)),c.match_length>=I)if(S=a._tr_tally(c,c.strstart-c.match_start,c.match_length-I),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=I){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else S=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(S&&(U(c,!1),c.strm.avail_out===0))return _}return c.insert=c.strstart<I-1?c.strstart:I-1,V===w?(U(c,!0),c.strm.avail_out===0?W:F):c.last_lit&&(U(c,!1),c.strm.avail_out===0)?_:A}function vt(c,V){for(var M,S,k;;){if(c.lookahead<Q){if(ht(c),c.lookahead<Q&&V===m)return _;if(c.lookahead===0)break}if(M=0,c.lookahead>=I&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=I-1,M!==0&&c.prev_length<c.max_lazy_match&&c.strstart-M<=c.w_size-Q&&(c.match_length=J(c,M),c.match_length<=5&&(c.strategy===1||c.match_length===I&&4096<c.strstart-c.match_start)&&(c.match_length=I-1)),c.prev_length>=I&&c.match_length<=c.prev_length){for(k=c.strstart+c.lookahead-I,S=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-I),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=k&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=I-1,c.strstart++,S&&(U(c,!1),c.strm.avail_out===0))return _}else if(c.match_available){if((S=a._tr_tally(c,0,c.window[c.strstart-1]))&&U(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return _}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(S=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<I-1?c.strstart:I-1,V===w?(U(c,!0),c.strm.avail_out===0?W:F):c.last_lit&&(U(c,!1),c.strm.avail_out===0)?_:A}function wt(c,V,M,S,k){this.good_length=c,this.max_lazy=V,this.nice_length=M,this.max_chain=S,this.func=k}function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*z),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*B+1)),lt(this.dyn_ltree),lt(this.dyn_dtree),lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*x+1),lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Et(c){var V;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=y,(V=c.state).pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?E:R,c.adler=V.wrap===2?0:1,V.last_flush=m,a._tr_init(V),d):ot(c,g)}function Ft(c){var V=Et(c);return V===d&&function(M){M.window_size=2*M.w_size,lt(M.head),M.max_lazy_match=i[M.level].max_lazy,M.good_match=i[M.level].good_length,M.nice_match=i[M.level].nice_length,M.max_chain_length=i[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=I-1,M.match_available=0,M.ins_h=0}(c.state),V}function Lt(c,V,M,S,k,T){if(!c)return g;var G=1;if(V===h&&(V=6),S<0?(G=0,S=-S):15<S&&(G=2,S-=16),k<1||b<k||M!==v||S<8||15<S||V<0||9<V||T<0||p<T)return ot(c,g);S===8&&(S=9);var Y=new Nt;return(c.state=Y).strm=c,Y.wrap=G,Y.gzhead=null,Y.w_bits=S,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=k+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+I-1)/I),Y.window=new s.Buf8(2*Y.w_size),Y.head=new s.Buf16(Y.hash_size),Y.prev=new s.Buf16(Y.w_size),Y.lit_bufsize=1<<k+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new s.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=V,Y.strategy=T,Y.method=M,Ft(c)}i=[new wt(0,0,0,0,function(c,V){var M=65535;for(M>c.pending_buf_size-5&&(M=c.pending_buf_size-5);;){if(c.lookahead<=1){if(ht(c),c.lookahead===0&&V===m)return _;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var S=c.block_start+M;if((c.strstart===0||c.strstart>=S)&&(c.lookahead=c.strstart-S,c.strstart=S,U(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-Q&&(U(c,!1),c.strm.avail_out===0))return _}return c.insert=0,V===w?(U(c,!0),c.strm.avail_out===0?W:F):(c.strstart>c.block_start&&(U(c,!1),c.strm.avail_out),_)}),new wt(4,4,8,4,kt),new wt(4,5,16,8,kt),new wt(4,6,32,32,kt),new wt(4,4,16,16,vt),new wt(8,16,32,32,vt),new wt(8,16,128,128,vt),new wt(8,32,128,256,vt),new wt(32,128,258,1024,vt),new wt(32,258,258,4096,vt)],n.deflateInit=function(c,V){return Lt(c,V,v,15,8,0)},n.deflateInit2=Lt,n.deflateReset=Ft,n.deflateResetKeep=Et,n.deflateSetHeader=function(c,V){return c&&c.state?c.state.wrap!==2?g:(c.state.gzhead=V,d):g},n.deflate=function(c,V){var M,S,k,T;if(!c||!c.state||5<V||V<0)return c?ot(c,g):g;if(S=c.state,!c.output||!c.input&&c.avail_in!==0||S.status===666&&V!==w)return ot(c,c.avail_out===0?-5:g);if(S.strm=c,M=S.last_flush,S.last_flush=V,S.status===E)if(S.wrap===2)c.adler=0,ft(S,31),ft(S,139),ft(S,8),S.gzhead?(ft(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),ft(S,255&S.gzhead.time),ft(S,S.gzhead.time>>8&255),ft(S,S.gzhead.time>>16&255),ft(S,S.gzhead.time>>24&255),ft(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ft(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(ft(S,255&S.gzhead.extra.length),ft(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(c.adler=u(c.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(ft(S,0),ft(S,0),ft(S,0),ft(S,0),ft(S,0),ft(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ft(S,3),S.status=R);else{var G=v+(S.w_bits-8<<4)<<8;G|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(G|=32),G+=31-G%31,S.status=R,it(S,G),S.strstart!==0&&(it(S,c.adler>>>16),it(S,65535&c.adler)),c.adler=1}if(S.status===69)if(S.gzhead.extra){for(k=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>k&&(c.adler=u(c.adler,S.pending_buf,S.pending-k,k)),N(c),k=S.pending,S.pending!==S.pending_buf_size));)ft(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>k&&(c.adler=u(c.adler,S.pending_buf,S.pending-k,k)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){k=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>k&&(c.adler=u(c.adler,S.pending_buf,S.pending-k,k)),N(c),k=S.pending,S.pending===S.pending_buf_size)){T=1;break}T=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,ft(S,T)}while(T!==0);S.gzhead.hcrc&&S.pending>k&&(c.adler=u(c.adler,S.pending_buf,S.pending-k,k)),T===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){k=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>k&&(c.adler=u(c.adler,S.pending_buf,S.pending-k,k)),N(c),k=S.pending,S.pending===S.pending_buf_size)){T=1;break}T=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,ft(S,T)}while(T!==0);S.gzhead.hcrc&&S.pending>k&&(c.adler=u(c.adler,S.pending_buf,S.pending-k,k)),T===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&N(c),S.pending+2<=S.pending_buf_size&&(ft(S,255&c.adler),ft(S,c.adler>>8&255),c.adler=0,S.status=R)):S.status=R),S.pending!==0){if(N(c),c.avail_out===0)return S.last_flush=-1,d}else if(c.avail_in===0&&Z(V)<=Z(M)&&V!==w)return ot(c,-5);if(S.status===666&&c.avail_in!==0)return ot(c,-5);if(c.avail_in!==0||S.lookahead!==0||V!==m&&S.status!==666){var Y=S.strategy===2?function(L,tt){for(var ut;;){if(L.lookahead===0&&(ht(L),L.lookahead===0)){if(tt===m)return _;break}if(L.match_length=0,ut=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,ut&&(U(L,!1),L.strm.avail_out===0))return _}return L.insert=0,tt===w?(U(L,!0),L.strm.avail_out===0?W:F):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?_:A}(S,V):S.strategy===3?function(L,tt){for(var ut,et,ct,St,$t=L.window;;){if(L.lookahead<=H){if(ht(L),L.lookahead<=H&&tt===m)return _;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=I&&0<L.strstart&&(et=$t[ct=L.strstart-1])===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]){St=L.strstart+H;do;while(et===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]&&et===$t[++ct]&&ct<St);L.match_length=H-(St-ct),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=I?(ut=a._tr_tally(L,1,L.match_length-I),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(ut=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),ut&&(U(L,!1),L.strm.avail_out===0))return _}return L.insert=0,tt===w?(U(L,!0),L.strm.avail_out===0?W:F):L.last_lit&&(U(L,!1),L.strm.avail_out===0)?_:A}(S,V):i[S.level].func(S,V);if(Y!==W&&Y!==F||(S.status=666),Y===_||Y===W)return c.avail_out===0&&(S.last_flush=-1),d;if(Y===A&&(V===1?a._tr_align(S):V!==5&&(a._tr_stored_block(S,0,0,!1),V===3&&(lt(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),N(c),c.avail_out===0))return S.last_flush=-1,d}return V!==w?d:S.wrap<=0?1:(S.wrap===2?(ft(S,255&c.adler),ft(S,c.adler>>8&255),ft(S,c.adler>>16&255),ft(S,c.adler>>24&255),ft(S,255&c.total_in),ft(S,c.total_in>>8&255),ft(S,c.total_in>>16&255),ft(S,c.total_in>>24&255)):(it(S,c.adler>>>16),it(S,65535&c.adler)),N(c),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?d:1)},n.deflateEnd=function(c){var V;return c&&c.state?(V=c.state.status)!==E&&V!==69&&V!==73&&V!==91&&V!==103&&V!==R&&V!==666?ot(c,g):(c.state=null,V===R?ot(c,-3):d):g},n.deflateSetDictionary=function(c,V){var M,S,k,T,G,Y,L,tt,ut=V.length;if(!c||!c.state||(T=(M=c.state).wrap)===2||T===1&&M.status!==E||M.lookahead)return g;for(T===1&&(c.adler=l(c.adler,V,ut,0)),M.wrap=0,ut>=M.w_size&&(T===0&&(lt(M.head),M.strstart=0,M.block_start=0,M.insert=0),tt=new s.Buf8(M.w_size),s.arraySet(tt,V,ut-M.w_size,M.w_size,0),V=tt,ut=M.w_size),G=c.avail_in,Y=c.next_in,L=c.input,c.avail_in=ut,c.next_in=0,c.input=V,ht(M);M.lookahead>=I;){for(S=M.strstart,k=M.lookahead-(I-1);M.ins_h=(M.ins_h<<M.hash_shift^M.window[S+I-1])&M.hash_mask,M.prev[S&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=S,S++,--k;);M.strstart=S,M.lookahead=I-1,ht(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=I-1,M.match_available=0,c.next_in=Y,c.input=L,c.avail_in=G,M.wrap=T,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,r,n){r.exports=function(i,s){var a,l,u,f,m,w,d,g,h,p,y,v,b,x,C,B,z,P,I,H,Q,E,R,_,A;a=i.state,l=i.next_in,_=i.input,u=l+(i.avail_in-5),f=i.next_out,A=i.output,m=f-(s-i.avail_out),w=f+(i.avail_out-257),d=a.dmax,g=a.wsize,h=a.whave,p=a.wnext,y=a.window,v=a.hold,b=a.bits,x=a.lencode,C=a.distcode,B=(1<<a.lenbits)-1,z=(1<<a.distbits)-1;t:do{b<15&&(v+=_[l++]<<b,b+=8,v+=_[l++]<<b,b+=8),P=x[v&B];e:for(;;){if(v>>>=I=P>>>24,b-=I,(I=P>>>16&255)===0)A[f++]=65535&P;else{if(!(16&I)){if((64&I)==0){P=x[(65535&P)+(v&(1<<I)-1)];continue e}if(32&I){a.mode=12;break t}i.msg="invalid literal/length code",a.mode=30;break t}H=65535&P,(I&=15)&&(b<I&&(v+=_[l++]<<b,b+=8),H+=v&(1<<I)-1,v>>>=I,b-=I),b<15&&(v+=_[l++]<<b,b+=8,v+=_[l++]<<b,b+=8),P=C[v&z];r:for(;;){if(v>>>=I=P>>>24,b-=I,!(16&(I=P>>>16&255))){if((64&I)==0){P=C[(65535&P)+(v&(1<<I)-1)];continue r}i.msg="invalid distance code",a.mode=30;break t}if(Q=65535&P,b<(I&=15)&&(v+=_[l++]<<b,(b+=8)<I&&(v+=_[l++]<<b,b+=8)),d<(Q+=v&(1<<I)-1)){i.msg="invalid distance too far back",a.mode=30;break t}if(v>>>=I,b-=I,(I=f-m)<Q){if(h<(I=Q-I)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break t}if(R=y,(E=0)===p){if(E+=g-I,I<H){for(H-=I;A[f++]=y[E++],--I;);E=f-Q,R=A}}else if(p<I){if(E+=g+p-I,(I-=p)<H){for(H-=I;A[f++]=y[E++],--I;);if(E=0,p<H){for(H-=I=p;A[f++]=y[E++],--I;);E=f-Q,R=A}}}else if(E+=p-I,I<H){for(H-=I;A[f++]=y[E++],--I;);E=f-Q,R=A}for(;2<H;)A[f++]=R[E++],A[f++]=R[E++],A[f++]=R[E++],H-=3;H&&(A[f++]=R[E++],1<H&&(A[f++]=R[E++]))}else{for(E=f-Q;A[f++]=A[E++],A[f++]=A[E++],A[f++]=A[E++],2<(H-=3););H&&(A[f++]=A[E++],1<H&&(A[f++]=A[E++]))}break}}break}}while(l<u&&f<w);l-=H=b>>3,v&=(1<<(b-=H<<3))-1,i.next_in=l,i.next_out=f,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=f<w?w-f+257:257-(f-w),a.hold=v,a.bits=b}},{}],49:[function(e,r,n){var i=e("../utils/common"),s=e("./adler32"),a=e("./crc32"),l=e("./inffast"),u=e("./inftrees"),f=1,m=2,w=0,d=-2,g=1,h=852,p=592;function y(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(E){var R;return E&&E.state?(R=E.state,E.total_in=E.total_out=R.total=0,E.msg="",R.wrap&&(E.adler=1&R.wrap),R.mode=g,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new i.Buf32(h),R.distcode=R.distdyn=new i.Buf32(p),R.sane=1,R.back=-1,w):d}function x(E){var R;return E&&E.state?((R=E.state).wsize=0,R.whave=0,R.wnext=0,b(E)):d}function C(E,R){var _,A;return E&&E.state?(A=E.state,R<0?(_=0,R=-R):(_=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?d:(A.window!==null&&A.wbits!==R&&(A.window=null),A.wrap=_,A.wbits=R,x(E))):d}function B(E,R){var _,A;return E?(A=new v,(E.state=A).window=null,(_=C(E,R))!==w&&(E.state=null),_):d}var z,P,I=!0;function H(E){if(I){var R;for(z=new i.Buf32(512),P=new i.Buf32(32),R=0;R<144;)E.lens[R++]=8;for(;R<256;)E.lens[R++]=9;for(;R<280;)E.lens[R++]=7;for(;R<288;)E.lens[R++]=8;for(u(f,E.lens,0,288,z,0,E.work,{bits:9}),R=0;R<32;)E.lens[R++]=5;u(m,E.lens,0,32,P,0,E.work,{bits:5}),I=!1}E.lencode=z,E.lenbits=9,E.distcode=P,E.distbits=5}function Q(E,R,_,A){var W,F=E.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new i.Buf8(F.wsize)),A>=F.wsize?(i.arraySet(F.window,R,_-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(A<(W=F.wsize-F.wnext)&&(W=A),i.arraySet(F.window,R,_-A,W,F.wnext),(A-=W)?(i.arraySet(F.window,R,_-A,A,0),F.wnext=A,F.whave=F.wsize):(F.wnext+=W,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=W))),0}n.inflateReset=x,n.inflateReset2=C,n.inflateResetKeep=b,n.inflateInit=function(E){return B(E,15)},n.inflateInit2=B,n.inflate=function(E,R){var _,A,W,F,ot,Z,lt,N,U,ft,it,J,ht,kt,vt,wt,Nt,Et,Ft,Lt,c,V,M,S,k=0,T=new i.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return d;(_=E.state).mode===12&&(_.mode=13),ot=E.next_out,W=E.output,lt=E.avail_out,F=E.next_in,A=E.input,Z=E.avail_in,N=_.hold,U=_.bits,ft=Z,it=lt,V=w;t:for(;;)switch(_.mode){case g:if(_.wrap===0){_.mode=13;break}for(;U<16;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(2&_.wrap&&N===35615){T[_.check=0]=255&N,T[1]=N>>>8&255,_.check=a(_.check,T,2,0),U=N=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&N)<<8)+(N>>8))%31){E.msg="incorrect header check",_.mode=30;break}if((15&N)!=8){E.msg="unknown compression method",_.mode=30;break}if(U-=4,c=8+(15&(N>>>=4)),_.wbits===0)_.wbits=c;else if(c>_.wbits){E.msg="invalid window size",_.mode=30;break}_.dmax=1<<c,E.adler=_.check=1,_.mode=512&N?10:12,U=N=0;break;case 2:for(;U<16;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(_.flags=N,(255&_.flags)!=8){E.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){E.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=N>>8&1),512&_.flags&&(T[0]=255&N,T[1]=N>>>8&255,_.check=a(_.check,T,2,0)),U=N=0,_.mode=3;case 3:for(;U<32;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}_.head&&(_.head.time=N),512&_.flags&&(T[0]=255&N,T[1]=N>>>8&255,T[2]=N>>>16&255,T[3]=N>>>24&255,_.check=a(_.check,T,4,0)),U=N=0,_.mode=4;case 4:for(;U<16;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}_.head&&(_.head.xflags=255&N,_.head.os=N>>8),512&_.flags&&(T[0]=255&N,T[1]=N>>>8&255,_.check=a(_.check,T,2,0)),U=N=0,_.mode=5;case 5:if(1024&_.flags){for(;U<16;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}_.length=N,_.head&&(_.head.extra_len=N),512&_.flags&&(T[0]=255&N,T[1]=N>>>8&255,_.check=a(_.check,T,2,0)),U=N=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(Z<(J=_.length)&&(J=Z),J&&(_.head&&(c=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),i.arraySet(_.head.extra,A,F,J,c)),512&_.flags&&(_.check=a(_.check,A,J,F)),Z-=J,F+=J,_.length-=J),_.length))break t;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(Z===0)break t;for(J=0;c=A[F+J++],_.head&&c&&_.length<65536&&(_.head.name+=String.fromCharCode(c)),c&&J<Z;);if(512&_.flags&&(_.check=a(_.check,A,J,F)),Z-=J,F+=J,c)break t}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(Z===0)break t;for(J=0;c=A[F+J++],_.head&&c&&_.length<65536&&(_.head.comment+=String.fromCharCode(c)),c&&J<Z;);if(512&_.flags&&(_.check=a(_.check,A,J,F)),Z-=J,F+=J,c)break t}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;U<16;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(N!==(65535&_.check)){E.msg="header crc mismatch",_.mode=30;break}U=N=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),E.adler=_.check=0,_.mode=12;break;case 10:for(;U<32;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}E.adler=_.check=y(N),U=N=0,_.mode=11;case 11:if(_.havedict===0)return E.next_out=ot,E.avail_out=lt,E.next_in=F,E.avail_in=Z,_.hold=N,_.bits=U,2;E.adler=_.check=1,_.mode=12;case 12:if(R===5||R===6)break t;case 13:if(_.last){N>>>=7&U,U-=7&U,_.mode=27;break}for(;U<3;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}switch(_.last=1&N,U-=1,3&(N>>>=1)){case 0:_.mode=14;break;case 1:if(H(_),_.mode=20,R!==6)break;N>>>=2,U-=2;break t;case 2:_.mode=17;break;case 3:E.msg="invalid block type",_.mode=30}N>>>=2,U-=2;break;case 14:for(N>>>=7&U,U-=7&U;U<32;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if((65535&N)!=(N>>>16^65535)){E.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&N,U=N=0,_.mode=15,R===6)break t;case 15:_.mode=16;case 16:if(J=_.length){if(Z<J&&(J=Z),lt<J&&(J=lt),J===0)break t;i.arraySet(W,A,F,J,ot),Z-=J,F+=J,lt-=J,ot+=J,_.length-=J;break}_.mode=12;break;case 17:for(;U<14;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(_.nlen=257+(31&N),N>>>=5,U-=5,_.ndist=1+(31&N),N>>>=5,U-=5,_.ncode=4+(15&N),N>>>=4,U-=4,286<_.nlen||30<_.ndist){E.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;U<3;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}_.lens[G[_.have++]]=7&N,N>>>=3,U-=3}for(;_.have<19;)_.lens[G[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,M={bits:_.lenbits},V=u(0,_.lens,0,19,_.lencode,0,_.work,M),_.lenbits=M.bits,V){E.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;wt=(k=_.lencode[N&(1<<_.lenbits)-1])>>>16&255,Nt=65535&k,!((vt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(Nt<16)N>>>=vt,U-=vt,_.lens[_.have++]=Nt;else{if(Nt===16){for(S=vt+2;U<S;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(N>>>=vt,U-=vt,_.have===0){E.msg="invalid bit length repeat",_.mode=30;break}c=_.lens[_.have-1],J=3+(3&N),N>>>=2,U-=2}else if(Nt===17){for(S=vt+3;U<S;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}U-=vt,c=0,J=3+(7&(N>>>=vt)),N>>>=3,U-=3}else{for(S=vt+7;U<S;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}U-=vt,c=0,J=11+(127&(N>>>=vt)),N>>>=7,U-=7}if(_.have+J>_.nlen+_.ndist){E.msg="invalid bit length repeat",_.mode=30;break}for(;J--;)_.lens[_.have++]=c}}if(_.mode===30)break;if(_.lens[256]===0){E.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,M={bits:_.lenbits},V=u(f,_.lens,0,_.nlen,_.lencode,0,_.work,M),_.lenbits=M.bits,V){E.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,M={bits:_.distbits},V=u(m,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,M),_.distbits=M.bits,V){E.msg="invalid distances set",_.mode=30;break}if(_.mode=20,R===6)break t;case 20:_.mode=21;case 21:if(6<=Z&&258<=lt){E.next_out=ot,E.avail_out=lt,E.next_in=F,E.avail_in=Z,_.hold=N,_.bits=U,l(E,it),ot=E.next_out,W=E.output,lt=E.avail_out,F=E.next_in,A=E.input,Z=E.avail_in,N=_.hold,U=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;wt=(k=_.lencode[N&(1<<_.lenbits)-1])>>>16&255,Nt=65535&k,!((vt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(wt&&(240&wt)==0){for(Et=vt,Ft=wt,Lt=Nt;wt=(k=_.lencode[Lt+((N&(1<<Et+Ft)-1)>>Et)])>>>16&255,Nt=65535&k,!(Et+(vt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}N>>>=Et,U-=Et,_.back+=Et}if(N>>>=vt,U-=vt,_.back+=vt,_.length=Nt,wt===0){_.mode=26;break}if(32&wt){_.back=-1,_.mode=12;break}if(64&wt){E.msg="invalid literal/length code",_.mode=30;break}_.extra=15&wt,_.mode=22;case 22:if(_.extra){for(S=_.extra;U<S;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}_.length+=N&(1<<_.extra)-1,N>>>=_.extra,U-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;wt=(k=_.distcode[N&(1<<_.distbits)-1])>>>16&255,Nt=65535&k,!((vt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if((240&wt)==0){for(Et=vt,Ft=wt,Lt=Nt;wt=(k=_.distcode[Lt+((N&(1<<Et+Ft)-1)>>Et)])>>>16&255,Nt=65535&k,!(Et+(vt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}N>>>=Et,U-=Et,_.back+=Et}if(N>>>=vt,U-=vt,_.back+=vt,64&wt){E.msg="invalid distance code",_.mode=30;break}_.offset=Nt,_.extra=15&wt,_.mode=24;case 24:if(_.extra){for(S=_.extra;U<S;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}_.offset+=N&(1<<_.extra)-1,N>>>=_.extra,U-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){E.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(lt===0)break t;if(J=it-lt,_.offset>J){if((J=_.offset-J)>_.whave&&_.sane){E.msg="invalid distance too far back",_.mode=30;break}ht=J>_.wnext?(J-=_.wnext,_.wsize-J):_.wnext-J,J>_.length&&(J=_.length),kt=_.window}else kt=W,ht=ot-_.offset,J=_.length;for(lt<J&&(J=lt),lt-=J,_.length-=J;W[ot++]=kt[ht++],--J;);_.length===0&&(_.mode=21);break;case 26:if(lt===0)break t;W[ot++]=_.length,lt--,_.mode=21;break;case 27:if(_.wrap){for(;U<32;){if(Z===0)break t;Z--,N|=A[F++]<<U,U+=8}if(it-=lt,E.total_out+=it,_.total+=it,it&&(E.adler=_.check=_.flags?a(_.check,W,it,ot-it):s(_.check,W,it,ot-it)),it=lt,(_.flags?N:y(N))!==_.check){E.msg="incorrect data check",_.mode=30;break}U=N=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;U<32;){if(Z===0)break t;Z--,N+=A[F++]<<U,U+=8}if(N!==(4294967295&_.total)){E.msg="incorrect length check",_.mode=30;break}U=N=0}_.mode=29;case 29:V=1;break t;case 30:V=-3;break t;case 31:return-4;case 32:default:return d}return E.next_out=ot,E.avail_out=lt,E.next_in=F,E.avail_in=Z,_.hold=N,_.bits=U,(_.wsize||it!==E.avail_out&&_.mode<30&&(_.mode<27||R!==4))&&Q(E,E.output,E.next_out,it-E.avail_out)?(_.mode=31,-4):(ft-=E.avail_in,it-=E.avail_out,E.total_in+=ft,E.total_out+=it,_.total+=it,_.wrap&&it&&(E.adler=_.check=_.flags?a(_.check,W,it,E.next_out-it):s(_.check,W,it,E.next_out-it)),E.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(ft==0&&it===0||R===4)&&V===w&&(V=-5),V)},n.inflateEnd=function(E){if(!E||!E.state)return d;var R=E.state;return R.window&&(R.window=null),E.state=null,w},n.inflateGetHeader=function(E,R){var _;return E&&E.state?(2&(_=E.state).wrap)==0?d:((_.head=R).done=!1,w):d},n.inflateSetDictionary=function(E,R){var _,A=R.length;return E&&E.state?(_=E.state).wrap!==0&&_.mode!==11?d:_.mode===11&&s(1,R,A,0)!==_.check?-3:Q(E,R,A,A)?(_.mode=31,-4):(_.havedict=1,w):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,n){var i=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,m,w,d,g,h,p,y){var v,b,x,C,B,z,P,I,H,Q=y.bits,E=0,R=0,_=0,A=0,W=0,F=0,ot=0,Z=0,lt=0,N=0,U=null,ft=0,it=new i.Buf16(16),J=new i.Buf16(16),ht=null,kt=0;for(E=0;E<=15;E++)it[E]=0;for(R=0;R<d;R++)it[m[w+R]]++;for(W=Q,A=15;1<=A&&it[A]===0;A--);if(A<W&&(W=A),A===0)return g[h++]=20971520,g[h++]=20971520,y.bits=1,0;for(_=1;_<A&&it[_]===0;_++);for(W<_&&(W=_),E=Z=1;E<=15;E++)if(Z<<=1,(Z-=it[E])<0)return-1;if(0<Z&&(f===0||A!==1))return-1;for(J[1]=0,E=1;E<15;E++)J[E+1]=J[E]+it[E];for(R=0;R<d;R++)m[w+R]!==0&&(p[J[m[w+R]]++]=R);if(z=f===0?(U=ht=p,19):f===1?(U=s,ft-=257,ht=a,kt-=257,256):(U=l,ht=u,-1),E=_,B=h,ot=R=N=0,x=-1,C=(lt=1<<(F=W))-1,f===1&&852<lt||f===2&&592<lt)return 1;for(;;){for(P=E-ot,H=p[R]<z?(I=0,p[R]):p[R]>z?(I=ht[kt+p[R]],U[ft+p[R]]):(I=96,0),v=1<<E-ot,_=b=1<<F;g[B+(N>>ot)+(b-=v)]=P<<24|I<<16|H|0,b!==0;);for(v=1<<E-1;N&v;)v>>=1;if(v!==0?(N&=v-1,N+=v):N=0,R++,--it[E]==0){if(E===A)break;E=m[w+p[R]]}if(W<E&&(N&C)!==x){for(ot===0&&(ot=W),B+=_,Z=1<<(F=E-ot);F+ot<A&&!((Z-=it[F+ot])<=0);)F++,Z<<=1;if(lt+=1<<F,f===1&&852<lt||f===2&&592<lt)return 1;g[x=N&C]=W<<24|F<<16|B-h|0}}return N!==0&&(g[B+N]=E-ot<<24|64<<16|0),y.bits=W,0}},{"../utils/common":41}],51:[function(e,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,n){var i=e("../utils/common"),s=0,a=1;function l(k){for(var T=k.length;0<=--T;)k[T]=0}var u=0,f=29,m=256,w=m+1+f,d=30,g=19,h=2*w+1,p=15,y=16,v=7,b=256,x=16,C=17,B=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(w+2));l(Q);var E=new Array(2*d);l(E);var R=new Array(512);l(R);var _=new Array(256);l(_);var A=new Array(f);l(A);var W,F,ot,Z=new Array(d);function lt(k,T,G,Y,L){this.static_tree=k,this.extra_bits=T,this.extra_base=G,this.elems=Y,this.max_length=L,this.has_stree=k&&k.length}function N(k,T){this.dyn_tree=k,this.max_code=0,this.stat_desc=T}function U(k){return k<256?R[k]:R[256+(k>>>7)]}function ft(k,T){k.pending_buf[k.pending++]=255&T,k.pending_buf[k.pending++]=T>>>8&255}function it(k,T,G){k.bi_valid>y-G?(k.bi_buf|=T<<k.bi_valid&65535,ft(k,k.bi_buf),k.bi_buf=T>>y-k.bi_valid,k.bi_valid+=G-y):(k.bi_buf|=T<<k.bi_valid&65535,k.bi_valid+=G)}function J(k,T,G){it(k,G[2*T],G[2*T+1])}function ht(k,T){for(var G=0;G|=1&k,k>>>=1,G<<=1,0<--T;);return G>>>1}function kt(k,T,G){var Y,L,tt=new Array(p+1),ut=0;for(Y=1;Y<=p;Y++)tt[Y]=ut=ut+G[Y-1]<<1;for(L=0;L<=T;L++){var et=k[2*L+1];et!==0&&(k[2*L]=ht(tt[et]++,et))}}function vt(k){var T;for(T=0;T<w;T++)k.dyn_ltree[2*T]=0;for(T=0;T<d;T++)k.dyn_dtree[2*T]=0;for(T=0;T<g;T++)k.bl_tree[2*T]=0;k.dyn_ltree[2*b]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function wt(k){8<k.bi_valid?ft(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Nt(k,T,G,Y){var L=2*T,tt=2*G;return k[L]<k[tt]||k[L]===k[tt]&&Y[T]<=Y[G]}function Et(k,T,G){for(var Y=k.heap[G],L=G<<1;L<=k.heap_len&&(L<k.heap_len&&Nt(T,k.heap[L+1],k.heap[L],k.depth)&&L++,!Nt(T,Y,k.heap[L],k.depth));)k.heap[G]=k.heap[L],G=L,L<<=1;k.heap[G]=Y}function Ft(k,T,G){var Y,L,tt,ut,et=0;if(k.last_lit!==0)for(;Y=k.pending_buf[k.d_buf+2*et]<<8|k.pending_buf[k.d_buf+2*et+1],L=k.pending_buf[k.l_buf+et],et++,Y===0?J(k,L,T):(J(k,(tt=_[L])+m+1,T),(ut=z[tt])!==0&&it(k,L-=A[tt],ut),J(k,tt=U(--Y),G),(ut=P[tt])!==0&&it(k,Y-=Z[tt],ut)),et<k.last_lit;);J(k,b,T)}function Lt(k,T){var G,Y,L,tt=T.dyn_tree,ut=T.stat_desc.static_tree,et=T.stat_desc.has_stree,ct=T.stat_desc.elems,St=-1;for(k.heap_len=0,k.heap_max=h,G=0;G<ct;G++)tt[2*G]!==0?(k.heap[++k.heap_len]=St=G,k.depth[G]=0):tt[2*G+1]=0;for(;k.heap_len<2;)tt[2*(L=k.heap[++k.heap_len]=St<2?++St:0)]=1,k.depth[L]=0,k.opt_len--,et&&(k.static_len-=ut[2*L+1]);for(T.max_code=St,G=k.heap_len>>1;1<=G;G--)Et(k,tt,G);for(L=ct;G=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Et(k,tt,1),Y=k.heap[1],k.heap[--k.heap_max]=G,k.heap[--k.heap_max]=Y,tt[2*L]=tt[2*G]+tt[2*Y],k.depth[L]=(k.depth[G]>=k.depth[Y]?k.depth[G]:k.depth[Y])+1,tt[2*G+1]=tt[2*Y+1]=L,k.heap[1]=L++,Et(k,tt,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function($t,Vt){var ze,ne,Ae,Ut,Xe,Or,ae=Vt.dyn_tree,wn=Vt.max_code,hs=Vt.stat_desc.static_tree,ds=Vt.stat_desc.has_stree,ps=Vt.stat_desc.extra_bits,bn=Vt.stat_desc.extra_base,Re=Vt.stat_desc.max_length,Ke=0;for(Ut=0;Ut<=p;Ut++)$t.bl_count[Ut]=0;for(ae[2*$t.heap[$t.heap_max]+1]=0,ze=$t.heap_max+1;ze<h;ze++)Re<(Ut=ae[2*ae[2*(ne=$t.heap[ze])+1]+1]+1)&&(Ut=Re,Ke++),ae[2*ne+1]=Ut,wn<ne||($t.bl_count[Ut]++,Xe=0,bn<=ne&&(Xe=ps[ne-bn]),Or=ae[2*ne],$t.opt_len+=Or*(Ut+Xe),ds&&($t.static_len+=Or*(hs[2*ne+1]+Xe)));if(Ke!==0){do{for(Ut=Re-1;$t.bl_count[Ut]===0;)Ut--;$t.bl_count[Ut]--,$t.bl_count[Ut+1]+=2,$t.bl_count[Re]--,Ke-=2}while(0<Ke);for(Ut=Re;Ut!==0;Ut--)for(ne=$t.bl_count[Ut];ne!==0;)wn<(Ae=$t.heap[--ze])||(ae[2*Ae+1]!==Ut&&($t.opt_len+=(Ut-ae[2*Ae+1])*ae[2*Ae],ae[2*Ae+1]=Ut),ne--)}}(k,T),kt(tt,St,k.bl_count)}function c(k,T,G){var Y,L,tt=-1,ut=T[1],et=0,ct=7,St=4;for(ut===0&&(ct=138,St=3),T[2*(G+1)+1]=65535,Y=0;Y<=G;Y++)L=ut,ut=T[2*(Y+1)+1],++et<ct&&L===ut||(et<St?k.bl_tree[2*L]+=et:L!==0?(L!==tt&&k.bl_tree[2*L]++,k.bl_tree[2*x]++):et<=10?k.bl_tree[2*C]++:k.bl_tree[2*B]++,tt=L,St=(et=0)===ut?(ct=138,3):L===ut?(ct=6,3):(ct=7,4))}function V(k,T,G){var Y,L,tt=-1,ut=T[1],et=0,ct=7,St=4;for(ut===0&&(ct=138,St=3),Y=0;Y<=G;Y++)if(L=ut,ut=T[2*(Y+1)+1],!(++et<ct&&L===ut)){if(et<St)for(;J(k,L,k.bl_tree),--et!=0;);else L!==0?(L!==tt&&(J(k,L,k.bl_tree),et--),J(k,x,k.bl_tree),it(k,et-3,2)):et<=10?(J(k,C,k.bl_tree),it(k,et-3,3)):(J(k,B,k.bl_tree),it(k,et-11,7));tt=L,St=(et=0)===ut?(ct=138,3):L===ut?(ct=6,3):(ct=7,4)}}l(Z);var M=!1;function S(k,T,G,Y){it(k,(u<<1)+(Y?1:0),3),function(L,tt,ut,et){wt(L),et&&(ft(L,ut),ft(L,~ut)),i.arraySet(L.pending_buf,L.window,tt,ut,L.pending),L.pending+=ut}(k,T,G,!0)}n._tr_init=function(k){M||(function(){var T,G,Y,L,tt,ut=new Array(p+1);for(L=Y=0;L<f-1;L++)for(A[L]=Y,T=0;T<1<<z[L];T++)_[Y++]=L;for(_[Y-1]=L,L=tt=0;L<16;L++)for(Z[L]=tt,T=0;T<1<<P[L];T++)R[tt++]=L;for(tt>>=7;L<d;L++)for(Z[L]=tt<<7,T=0;T<1<<P[L]-7;T++)R[256+tt++]=L;for(G=0;G<=p;G++)ut[G]=0;for(T=0;T<=143;)Q[2*T+1]=8,T++,ut[8]++;for(;T<=255;)Q[2*T+1]=9,T++,ut[9]++;for(;T<=279;)Q[2*T+1]=7,T++,ut[7]++;for(;T<=287;)Q[2*T+1]=8,T++,ut[8]++;for(kt(Q,w+1,ut),T=0;T<d;T++)E[2*T+1]=5,E[2*T]=ht(T,5);W=new lt(Q,z,m+1,w,p),F=new lt(E,P,0,d,p),ot=new lt(new Array(0),I,0,g,v)}(),M=!0),k.l_desc=new N(k.dyn_ltree,W),k.d_desc=new N(k.dyn_dtree,F),k.bl_desc=new N(k.bl_tree,ot),k.bi_buf=0,k.bi_valid=0,vt(k)},n._tr_stored_block=S,n._tr_flush_block=function(k,T,G,Y){var L,tt,ut=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(et){var ct,St=4093624447;for(ct=0;ct<=31;ct++,St>>>=1)if(1&St&&et.dyn_ltree[2*ct]!==0)return s;if(et.dyn_ltree[18]!==0||et.dyn_ltree[20]!==0||et.dyn_ltree[26]!==0)return a;for(ct=32;ct<m;ct++)if(et.dyn_ltree[2*ct]!==0)return a;return s}(k)),Lt(k,k.l_desc),Lt(k,k.d_desc),ut=function(et){var ct;for(c(et,et.dyn_ltree,et.l_desc.max_code),c(et,et.dyn_dtree,et.d_desc.max_code),Lt(et,et.bl_desc),ct=g-1;3<=ct&&et.bl_tree[2*H[ct]+1]===0;ct--);return et.opt_len+=3*(ct+1)+5+5+4,ct}(k),L=k.opt_len+3+7>>>3,(tt=k.static_len+3+7>>>3)<=L&&(L=tt)):L=tt=G+5,G+4<=L&&T!==-1?S(k,T,G,Y):k.strategy===4||tt===L?(it(k,2+(Y?1:0),3),Ft(k,Q,E)):(it(k,4+(Y?1:0),3),function(et,ct,St,$t){var Vt;for(it(et,ct-257,5),it(et,St-1,5),it(et,$t-4,4),Vt=0;Vt<$t;Vt++)it(et,et.bl_tree[2*H[Vt]+1],3);V(et,et.dyn_ltree,ct-1),V(et,et.dyn_dtree,St-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ut+1),Ft(k,k.dyn_ltree,k.dyn_dtree)),vt(k),Y&&wt(k)},n._tr_tally=function(k,T,G){return k.pending_buf[k.d_buf+2*k.last_lit]=T>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&T,k.pending_buf[k.l_buf+k.last_lit]=255&G,k.last_lit++,T===0?k.dyn_ltree[2*G]++:(k.matches++,T--,k.dyn_ltree[2*(_[G]+m+1)]++,k.dyn_dtree[2*U(T)]++),k.last_lit===k.lit_bufsize-1},n._tr_align=function(k){it(k,2,3),J(k,b,Q),function(T){T.bi_valid===16?(ft(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(e,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,r,n){(function(i){(function(s,a){if(!s.setImmediate){var l,u,f,m,w=1,d={},g=!1,h=s.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(s);p=p&&p.setTimeout?p:s,l={}.toString.call(s.process)==="[object process]"?function(x){process.nextTick(function(){v(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,C=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=C,x}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",b,!1):s.attachEvent("onmessage",b),function(x){s.postMessage(m+x,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(x){v(x.data)},function(x){f.port2.postMessage(x)}):h&&"onreadystatechange"in h.createElement("script")?(u=h.documentElement,function(x){var C=h.createElement("script");C.onreadystatechange=function(){v(x),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(x){setTimeout(v,0,x)},p.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];var z={callback:x,args:C};return d[w]=z,l(w),w++},p.clearImmediate=y}function y(x){delete d[x]}function v(x){if(g)setTimeout(v,0,x);else{var C=d[x];if(C){g=!0;try{(function(B){var z=B.callback,P=B.args;switch(P.length){case 0:z();break;case 1:z(P[0]);break;case 2:z(P[0],P[1]);break;case 3:z(P[0],P[1],P[2]);break;default:z.apply(a,P)}})(C)}finally{y(x),g=!1}}}}function b(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(m)===0&&v(+x.data.slice(m.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(cs);const Ju=cs.exports;function Qu(o){let t,e,r,n,i,s,a,l;return e=new Hs({}),{c(){t=X("button"),dt(e.$$.fragment),r=rt(),n=X("span"),i=bt("Login with Github"),this.h()},l(u){t=K(u,"BUTTON",{class:!0});var f=j(t);pt(e.$$.fragment,f),r=nt(f),n=K(f,"SPAN",{class:!0});var m=j(n);i=xt(m,"Login with Github"),m.forEach($),f.forEach($),this.h()},h(){O(n,"class","w-max"),O(t,"class","flex flex-row items-center gap-2 px-2 py-1")},m(u,f){q(u,t,f),mt(e,t,null),D(t,r),D(t,n),D(n,i),s=!0,a||(l=Ct(t,"click",o[1]),a=!0)},p:zt,i(u){s||(st(e.$$.fragment,u),s=!0)},o(u){at(e.$$.fragment,u),s=!1},d(u){u&&$(t),gt(e),a=!1,l()}}}function tf(o){var x,C,B;let t,e,r,n,i,s,a,l=((x=o[0])==null?void 0:x.email)+"",u,f,m,w,d=((B=(C=o[0])==null?void 0:C.app_metadata)==null?void 0:B.provider)+"",g,h,p,y,v,b;return{c(){t=X("h3"),e=bt("Account"),r=rt(),n=X("p"),i=bt("You are signed in as:"),s=rt(),a=X("p"),u=bt(l),f=rt(),m=X("p"),w=bt("Using: "),g=bt(d),h=rt(),p=X("button"),y=bt("Logout"),this.h()},l(z){t=K(z,"H3",{});var P=j(t);e=xt(P,"Account"),P.forEach($),r=nt(z),n=K(z,"P",{});var I=j(n);i=xt(I,"You are signed in as:"),I.forEach($),s=nt(z),a=K(z,"P",{});var H=j(a);u=xt(H,l),H.forEach($),f=nt(z),m=K(z,"P",{});var Q=j(m);w=xt(Q,"Using: "),g=xt(Q,d),Q.forEach($),h=nt(z),p=K(z,"BUTTON",{class:!0});var E=j(p);y=xt(E,"Logout"),E.forEach($),this.h()},h(){O(p,"class","hover:text-purple-600")},m(z,P){q(z,t,P),D(t,e),q(z,r,P),q(z,n,P),D(n,i),q(z,s,P),q(z,a,P),D(a,u),q(z,f,P),q(z,m,P),D(m,w),D(m,g),q(z,h,P),q(z,p,P),D(p,y),v||(b=Ct(p,"click",o[2]),v=!0)},p(z,P){var I,H,Q;P&1&&l!==(l=((I=z[0])==null?void 0:I.email)+"")&&Zt(u,l),P&1&&d!==(d=((Q=(H=z[0])==null?void 0:H.app_metadata)==null?void 0:Q.provider)+"")&&Zt(g,d)},i:zt,o:zt,d(z){z&&$(t),z&&$(r),z&&$(n),z&&$(s),z&&$(a),z&&$(f),z&&$(m),z&&$(h),z&&$(p),v=!1,b()}}}function ef(o){let t,e,r,n;const i=[tf,Qu],s=[];function a(l,u){return l[0]&&(l[0]!=null||l[0]!=null)?0:1}return t=a(o),e=s[t]=i[t](o),{c(){e.c(),r=dr()},l(l){e.l(l),r=dr()},m(l,u){s[t].m(l,u),q(l,r,u),n=!0},p(l,u){let f=t;t=a(l),t===f?s[t].p(l,u):(Qt(),at(s[f],1,1,()=>{s[f]=null}),te(),e=s[t],e?e.p(l,u):(e=s[t]=i[t](l),e.c()),st(e,1),e.m(r.parentNode,r))},i(l){n||(st(e),n=!0)},o(l){at(e),n=!1},d(l){s[t].d(l),l&&$(r)}}}function rf(o){let t,e;return t=new ko({props:{slot:"icon"}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p:zt,i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function nf(o){let t,e,r,n,i,s,a,l;return e=new mi({}),{c(){t=X("button"),dt(e.$$.fragment),r=rt(),n=X("span"),i=bt("Download all notes"),this.h()},l(u){t=K(u,"BUTTON",{class:!0});var f=j(t);pt(e.$$.fragment,f),r=nt(f),n=K(f,"SPAN",{});var m=j(n);i=xt(m,"Download all notes"),m.forEach($),f.forEach($),this.h()},h(){O(t,"class","flex flex-row gap-2 w-max")},m(u,f){q(u,t,f),mt(e,t,null),D(t,r),D(t,n),D(n,i),s=!0,a||(l=Ct(t,"click",o[3]),a=!0)},p:zt,i(u){s||(st(e.$$.fragment,u),s=!0)},o(u){at(e.$$.fragment,u),s=!1},d(u){u&&$(t),gt(e),a=!1,l()}}}function sf(o){let t,e;return t=new go({props:{slot:"icon"}}),{c(){dt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,n){mt(t,r,n),e=!0},p:zt,i(r){e||(st(t.$$.fragment,r),e=!0)},o(r){at(t.$$.fragment,r),e=!1},d(r){gt(t,r)}}}function of(o){let t,e,r,n,i;return e=new Br({props:{placement:"top",$$slots:{icon:[rf],default:[ef]},$$scope:{ctx:o}}}),n=new Br({props:{placement:"top",$$slots:{icon:[sf],default:[nf]},$$scope:{ctx:o}}}),{c(){t=X("footer"),dt(e.$$.fragment),r=rt(),dt(n.$$.fragment),this.h()},l(s){t=K(s,"FOOTER",{class:!0});var a=j(t);pt(e.$$.fragment,a),r=nt(a),pt(n.$$.fragment,a),a.forEach($),this.h()},h(){O(t,"class","md:flex items-center gap-2 h-8 px-2 bg-slate-500 svelte-133lyzl")},m(s,a){q(s,t,a),mt(e,t,null),D(t,r),mt(n,t,null),i=!0},p(s,[a]){const l={};a&129&&(l.$$scope={dirty:a,ctx:s}),e.$set(l);const u={};a&128&&(u.$$scope={dirty:a,ctx:s}),n.$set(u)},i(s){i||(st(e.$$.fragment,s),st(n.$$.fragment,s),i=!0)},o(s){at(e.$$.fragment,s),at(n.$$.fragment,s),i=!1},d(s){s&&$(t),gt(e),gt(n)}}}function af(o,t,e){let r,n,i;Ot(o,ge,f=>e(5,r=f)),Ot(o,Gt,f=>e(6,n=f)),Ot(o,Ne,f=>e(0,i=f));let s=!1;async function a(){try{s=!0;const{error:f}=await qt.auth.signInWithOAuth({provider:"github"});if(f)throw f}catch(f){console.log(f)}finally{s=!1}}async function l(){const{error:f}=await qt.auth.signOut();f&&console.error(f),Rt(Ne,i=null,i),Rt(Gt,n={},n),Rt(ge,r=[],r)}async function u(){const f=new Ju;for(let g=0;g<r.length;g++){const h=r[g];f.file(`${h.title}.md`,h.text)}const m=await f.generateAsync({type:"blob"}),w=URL.createObjectURL(m),d=document.createElement("a");d.download="notes_export.zip",d.href=w,d.click(),URL.revokeObjectURL(w)}return[i,a,l,u]}class lf extends It{constructor(t){super(),Tt(this,t,af,of,Pt,{})}}function uf(o){let t,e,r,n,i,s,a,l,u,f,m,w,d;return n=new Ku({}),a=new Co({}),f=new Xa({}),w=new lf({}),{c(){t=X("div"),e=X("div"),r=X("div"),dt(n.$$.fragment),i=rt(),s=X("div"),dt(a.$$.fragment),l=rt(),u=X("div"),dt(f.$$.fragment),m=rt(),dt(w.$$.fragment),this.h()},l(g){t=K(g,"DIV",{class:!0});var h=j(t);e=K(h,"DIV",{class:!0});var p=j(e);r=K(p,"DIV",{class:!0});var y=j(r);pt(n.$$.fragment,y),y.forEach($),i=nt(p),s=K(p,"DIV",{class:!0});var v=j(s);pt(a.$$.fragment,v),v.forEach($),l=nt(p),u=K(p,"DIV",{class:!0});var b=j(u);pt(f.$$.fragment,b),b.forEach($),p.forEach($),m=nt(h),pt(w.$$.fragment,h),h.forEach($),this.h()},h(){O(r,"class","navigation bg-slate-300 svelte-f0kppz"),jt(r,"selected",o[0]),O(s,"class","items h-full svelte-f0kppz"),jt(s,"selected",o[1]),O(u,"class","editor svelte-f0kppz"),jt(u,"selected",o[2]),O(e,"class","layout svelte-f0kppz"),O(t,"class","app svelte-f0kppz")},m(g,h){q(g,t,h),D(t,e),D(e,r),mt(n,r,null),D(e,i),D(e,s),mt(a,s,null),D(e,l),D(e,u),mt(f,u,null),D(t,m),mt(w,t,null),d=!0},p(g,[h]){(!d||h&1)&&jt(r,"selected",g[0]),(!d||h&2)&&jt(s,"selected",g[1]),(!d||h&4)&&jt(u,"selected",g[2])},i(g){d||(st(n.$$.fragment,g),st(a.$$.fragment,g),st(f.$$.fragment,g),st(w.$$.fragment,g),d=!0)},o(g){at(n.$$.fragment,g),at(a.$$.fragment,g),at(f.$$.fragment,g),at(w.$$.fragment,g),d=!1},d(g){g&&$(t),gt(n),gt(a),gt(f),gt(w)}}}function ff(o,t,e){let r,n,i,s,a;Ot(o,pr,u=>e(3,r=u)),Ot(o,Ir,u=>e(4,n=u)),Ot(o,ue,u=>e(0,i=u)),Ot(o,fe,u=>e(1,s=u)),Ot(o,ce,u=>e(2,a=u));async function l(){const{data:u,error:f}=await qt.from("tags").select("tag, id");f?console.error(f):(Rt(Ir,n=u,n),Rt(pr,r=u.map(m=>m.tag.split("/").filter(w=>w)).reduce((m,w)=>un(m,w),[]),r))}return tn(async()=>{l()}),[i,s,a]}class mf extends It{constructor(t){super(),Tt(this,t,ff,uf,Pt,{})}}export{mf as P,ur as c,re as r};
